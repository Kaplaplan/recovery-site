<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Recovery With Law — Crypto Recovery for Canada & Australia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <script src="https://unpkg.com/@lottiefiles/lottie-player@1.6.0/dist/lottie-player.js"></script>
  <style>
    :root {
      /* Design tokens from JSON */
      --color-primary: #000000;
      --color-background: #ffffff;
      --color-accent: #079efa;
      --color-neutral-dark: #333333;
      --color-neutral-medium: #666666;
      --color-neutral-light: #f6f6f6;

      --font-size-base: 16px;
      --line-height-tight: 1.2;
      --line-height-normal: 1.5;

      --spacing-xxs: 4px;
      --spacing-xs: 8px;
      --spacing-sm: 16px;
      --spacing-md: 24px;
      --spacing-lg: 32px;
      --spacing-xl: 48px;

      --radius-md: 999px;
      --radius-card: 16px;

      --header-height: 72px;
      --max-width: 1120px;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      font-size: var(--font-size-base);
      line-height: var(--line-height-normal);
      background: linear-gradient(180deg, #ffffff 0%, #fafcff 50%, #f6f9fd 100%);
      color: var(--color-neutral-dark);
      scroll-behavior: smooth;
    }

    body {
      -webkit-font-smoothing: antialiased;
    }

    img {
      max-width: 100%;
      display: block;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Layout */
    .page {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header, .header {
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.9);
      border-bottom: 1px solid #e5e5e5;
    }

    .header-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--spacing-md);
      height: var(--header-height);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      min-width: 0;
    }
    .header-inner nav { min-width: 0; flex: 1; display: flex; align-items: center; justify-content: space-between; }
    .header-inner .nav-links { justify-content: center; flex: 1; min-width: 0; }

    .logo {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-size: 14px;
      flex-shrink: 0;
      white-space: nowrap;
      min-width: 0;
    }
    .logo-text, .logo > span { overflow: hidden; text-overflow: ellipsis; }
    @media (max-width: 768px) {
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 16px;
      }
      .header-inner {
        width: 100%;
        padding: 0;
        height: auto;
        min-height: 48px;
        justify-content: space-between;
      }
      .nav-links { display: none !important; }
      .mobile-menu-btn { display: flex !important; }
      .nav-secondary > *:not(.mobile-menu-btn) { display: none !important; }
      .logo-text, .logo > span {
        font-size: 16px;
        white-space: nowrap;
        max-width: 180px;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .logo { max-width: 65%; min-width: 0; }
    }
    @media (max-width: 480px) {
      .logo { max-width: 55%; }
      .logo-text, .logo > span { max-width: 140px; }
    }

    .logo-mark {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #9be1ff, #079efa);
    }

    nav {
      display: flex;
      align-items: center;
      gap: clamp(12px, 2vw, 28px);
      font-size: 14px;
      flex: 1;
      min-width: 0;
      justify-content: flex-end;
    }

    .nav-links {
      display: flex;
      gap: var(--spacing-md);
      flex-shrink: 1;
      flex-wrap: nowrap;
      min-width: 0;
    }

    .nav-links a {
      color: var(--color-neutral-medium);
      font-weight: 500;
    }

    .nav-links a:hover {
      color: var(--color-primary);
    }

    .nav-secondary {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      flex-shrink: 0;
      margin-left: auto;
    }

    /* View toggle: Mobile / Desktop */
    .view-toggle {
      display: flex;
      align-items: center;
      gap: 2px;
      padding: 4px;
      background: var(--color-neutral-light);
      border-radius: 8px;
      font-size: 11px;
      font-weight: 500;
    }
    .view-toggle-btn {
      padding: 4px 8px;
      border: none;
      background: transparent;
      color: var(--color-neutral-medium);
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
    }
    .view-toggle-btn:hover {
      background: rgba(0,0,0,0.06);
      color: var(--color-neutral-dark);
    }
    .view-toggle-btn.active {
      background: #ffffff;
      color: var(--color-primary);
      box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    }

    /* Mobile menu (hamburger) */
    .mobile-menu-btn {
      display: none;
      flex-direction: column;
      justify-content: center;
      gap: 5px;
      width: 36px;
      height: 36px;
      padding: 6px;
      border: 1px solid #ddd;
      background: #fff;
      border-radius: 8px;
      cursor: pointer;
    }
    .mobile-menu-btn span {
      display: block;
      width: 100%;
      height: 2px;
      background: var(--color-neutral-dark);
    }
    .mobile-menu {
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 200;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity 0.2s, visibility 0.2s;
    }
    .mobile-menu.open {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }
    .mobile-menu-inner {
      position: absolute;
      top: 0;
      right: 0;
      width: 280px;
      max-width: 85vw;
      height: 100%;
      background: #fff;
      padding: 72px 24px 24px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      transform: translateX(100%);
      transition: transform 0.25s ease;
      box-shadow: -4px 0 20px rgba(0,0,0,0.1);
    }
    .mobile-menu.open .mobile-menu-inner {
      transform: translateX(0);
    }
    .mobile-menu a {
      padding: 12px 0;
      font-size: 16px;
      font-weight: 500;
      border-bottom: 1px solid #eee;
    }

    .badge-region {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: var(--radius-md);
      background: var(--color-neutral-light);
      color: var(--color-neutral-medium);
      white-space: nowrap;
    }

    .btn {
      border-radius: var(--radius-md);
      border: 1px solid transparent;
      padding: 8px 18px;
      font-size: 14px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      background: transparent;
      color: var(--color-primary);
      transition: background 0.15s ease, color 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
      text-decoration: none;
    }

    .btn-primary {
      background: var(--color-primary);
      color: #ffffff;
    }

    .btn-primary:hover {
      background: #111111;
      transform: translateY(-1px);
    }

    .btn-secondary {
      border-color: #dddddd;
      background: #ffffff;
    }

    .btn-secondary:hover {
      background: var(--color-neutral-light);
    }

    main {
      flex: 1;
    }

    section {
      padding: var(--spacing-xl) var(--spacing-md);
    }

    .section-inner {
      max-width: var(--max-width);
      margin: 0 auto;
    }

    /* Hero */
    .hero {
      padding-top: calc(var(--spacing-xl) + 8px);
      padding-bottom: var(--spacing-xl);
    }

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.7fr);
      gap: var(--spacing-xl);
      align-items: center;
    }

    .eyebrow {
      font-size: 13px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--color-neutral-medium);
      margin-bottom: var(--spacing-xs);
    }

    .hero-title {
      font-size: 40px;
      line-height: var(--line-height-tight);
      letter-spacing: -0.03em;
      font-weight: 700;
      margin-bottom: var(--spacing-md);
      color: var(--color-primary);
    }

    .hero-highlight {
      color: var(--color-accent);
    }

    .hero-subtitle {
      font-size: 16px;
      color: var(--color-neutral-medium);
      max-width: 480px;
      margin-bottom: var(--spacing-lg);
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-md);
    }

    .btn-accent {
      background: var(--color-accent);
      color: #ffffff;
      padding: 12px 24px;
      font-size: 15px;
      font-weight: 600;
    }
    .btn-accent:hover {
      background: #0685d9;
      transform: translateY(-1px);
    }
    .btn-outline-white {
      border: 2px solid #ddd;
      background: #ffffff;
      color: var(--color-neutral-dark);
      padding: 12px 24px;
      font-size: 15px;
      font-weight: 600;
    }
    .btn-outline-white:hover {
      background: var(--color-neutral-light);
      border-color: #ccc;
    }

    .lottie-wrap {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 160px;
    }
    .lottie-wrap lottie-player {
      width: 100%;
      max-width: 200px;
      height: auto;
    }
    .hero-visual {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
      align-items: center;
    }
    .hero-card-icon svg {
      display: block;
    }
    .hero-card-pattern {
      margin: -8px 0 4px;
    }
    .hero-pattern-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px 12px;
      justify-items: center;
    }
    .hero-pattern-c {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 9px;
      font-weight: 700;
      color: rgba(255,255,255,0.95);
      flex-shrink: 0;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: default;
    }
    .hero-pattern-c:hover {
      transform: scale(1.08);
      box-shadow: 0 4px 12px rgba(7, 158, 250, 0.35);
    }
    .hero-pattern-c.tone-1 {
      background: radial-gradient(circle at 30% 30%, #9be1ff, #079efa);
      opacity: 0.95;
    }
    .hero-pattern-c.tone-2 {
      background: radial-gradient(circle at 30% 30%, #7ec8f0, #0576c7);
      opacity: 0.9;
    }
    .hero-pattern-c.tone-3 {
      background: radial-gradient(circle at 30% 30%, #b3e5ff, #0aa3ff);
      opacity: 0.9;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-md);
      font-size: 13px;
      color: var(--color-neutral-medium);
    }

    .hero-meta strong {
      color: var(--color-neutral-dark);
    }

    .hero-badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
      margin-bottom: var(--spacing-xs);
    }

    .hero-badge {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: var(--radius-md);
      background: var(--color-neutral-light);
      color: var(--color-neutral-medium);
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .hero-card {
      background: radial-gradient(circle at 10% 0%, #f4fbff, #ffffff);
      border-radius: 24px;
      border: 1px solid #e5f3ff;
      padding: var(--spacing-lg);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.04);
    }

    .hero-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--spacing-md);
    }

    .hero-card-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--color-neutral-dark);
    }

    .hero-chip {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      padding: 4px 10px;
      border-radius: var(--radius-md);
      border: 1px solid #d5ebff;
      color: #176fbf;
      background: rgba(7, 158, 250, 0.04);
    }

    .hero-kpis {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: var(--spacing-md);
    }

    .kpi-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--color-neutral-medium);
      margin-bottom: 4px;
    }

    .kpi-value {
      font-size: 20px;
      font-weight: 600;
      color: var(--color-primary);
    }

    .kpi-caption {
      font-size: 11px;
      color: var(--color-neutral-medium);
      margin-top: 2px;
    }

    .hero-footer-note {
      font-size: 12px;
      color: var(--color-neutral-medium);
    }

    /* Trust badges */
    .trust-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: var(--spacing-lg);
      font-size: 13px;
      color: var(--color-neutral-medium);
      margin-top: var(--spacing-md);
    }

    .trust-logos {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-sm);
      align-items: center;
    }

    .trust-pill {
      padding: 6px 14px;
      border-radius: var(--radius-md);
      background: var(--color-neutral-light);
      font-size: 12px;
      color: var(--color-neutral-dark);
    }

    /* Sections */
    .section-header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: flex-end;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }

    .section-title {
      font-size: 26px;
      line-height: var(--line-height-tight);
      letter-spacing: -0.02em;
      font-weight: 600;
      color: var(--color-primary);
      margin: 0 0 var(--spacing-xs);
    }

    .section-eyebrow {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--color-neutral-medium);
      margin-bottom: 6px;
    }

    .section-description {
      font-size: 14px;
      color: var(--color-neutral-medium);
      max-width: 480px;
    }

    /* Why us */
    .info-grid {
      display: grid;
      grid-template-columns: minmax(0, 2.4fr) minmax(0, 2.6fr);
      gap: var(--spacing-xl);
    }

    .bullet-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: var(--spacing-md);
    }

    .bullet-item {
      display: flex;
      gap: var(--spacing-sm);
    }

    .bullet-icon {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: var(--color-neutral-light);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .bullet-content-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--color-neutral-dark);
    }

    .bullet-content-text {
      font-size: 14px;
      color: var(--color-neutral-medium);
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
      margin-bottom: var(--spacing-sm);
    }

    .pill {
      padding: 6px 12px;
      border-radius: var(--radius-md);
      background: var(--color-neutral-light);
      font-size: 12px;
      color: var(--color-neutral-dark);
    }

    /* Stats + chart */
    .stats-section {
      background: linear-gradient(180deg, #f8fafc 0%, #f1f6fb 100%);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 2fr);
      gap: var(--spacing-xl);
      align-items: center;
    }

    .stat-cards {
      display: grid;
      gap: var(--spacing-md);
    }

    .stat-card {
      background: #ffffff;
      border-radius: 20px;
      padding: var(--spacing-md);
      border: 1px solid #e2e2e2;
    }

    .stat-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--color-neutral-medium);
      margin-bottom: 4px;
    }

    .stat-value {
      font-size: 22px;
      font-weight: 600;
      color: var(--color-primary);
      margin-bottom: 4px;
    }

    .stat-note {
      font-size: 12px;
      color: var(--color-neutral-medium);
    }

    .chart-card {
      background: #ffffff;
      border-radius: 20px;
      padding: var(--spacing-md);
      border: 1px solid #e2e2e2;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-sm);
      gap: var(--spacing-md);
    }

    .chart-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--color-neutral-dark);
    }

    .chart-tag {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: var(--radius-md);
      background: var(--color-neutral-light);
      color: var(--color-neutral-medium);
    }

    .chart-legend {
      display: flex;
      gap: var(--spacing-sm);
      font-size: 11px;
      color: var(--color-neutral-medium);
      margin-top: var(--spacing-xs);
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      margin-right: 4px;
      display: inline-block;
    }

    canvas {
      width: 100%;
      height: 220px;
    }

    /* Services */
    .cards-row {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: var(--spacing-md);
    }

    .service-card {
      border-radius: 18px;
      border: 1px solid #e2e2e2;
      padding: var(--spacing-md);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
      background: #ffffff;
    }

    .service-name {
      font-size: 16px;
      font-weight: 600;
      color: var(--color-neutral-dark);
    }

    .service-price {
      font-size: 18px;
      font-weight: 600;
      color: var(--color-primary);
    }

    .service-tag {
      font-size: 11px;
      color: var(--color-neutral-medium);
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .service-description {
      font-size: 14px;
      color: var(--color-neutral-medium);
      margin-top: 4px;
    }

    /* Testimonials */
    .testimonial-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: var(--spacing-md);
    }

    .testimonial-card {
      border-radius: 18px;
      padding: var(--spacing-md);
      border: 1px solid #e2e2e2;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    .testimonial-text {
      font-size: 14px;
      color: var(--color-neutral-medium);
    }

    .testimonial-author {
      font-size: 13px;
      font-weight: 500;
      color: var(--color-neutral-dark);
    }

    .testimonial-role {
      font-size: 12px;
      color: var(--color-neutral-medium);
    }

    /* Process */
    .process-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: var(--spacing-md);
    }

    .process-step {
      border-radius: 18px;
      border: 1px solid #e2e2e2;
      padding: var(--spacing-md);
      background: #ffffff;
    }

    .process-step-number {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--color-neutral-medium);
      margin-bottom: 4px;
    }

    .process-step-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--color-neutral-dark);
    }

    .process-step-text {
      font-size: 14px;
      color: var(--color-neutral-medium);
    }

    /* Fraud types */
    .chips-row {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
    }

    .chip-outline {
      padding: 6px 12px;
      border-radius: var(--radius-md);
      border: 1px solid #e2e2e2;
      font-size: 13px;
      color: var(--color-neutral-dark);
      background: #ffffff;
    }

    /* Form / CTA */
    .cta-section {
      background: #000000;
      color: #ffffff;
    }

    .cta-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 2fr);
      gap: var(--spacing-xl);
      align-items: flex-start;
    }

    .cta-eyebrow {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 6px;
    }

    .cta-title {
      font-size: 28px;
      line-height: var(--line-height-tight);
      letter-spacing: -0.02em;
      font-weight: 600;
      margin-bottom: var(--spacing-sm);
    }

    .cta-text {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: var(--spacing-md);
    }

    .cta-note {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
    }

    .form-card {
      background: rgba(255, 255, 255, 0.04);
      border-radius: 20px;
      padding: var(--spacing-md);
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: var(--spacing-sm);
    }

    .form-field {
      margin-bottom: var(--spacing-sm);
    }

    .form-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      display: block;
      margin-bottom: 4px;
      color: rgba(255, 255, 255, 0.7);
    }

    .input, .select, .textarea {
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(0, 0, 0, 0.4);
      color: #ffffff;
      font-family: inherit;
      font-size: 14px;
      outline: none;
      transition: border-color 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;
    }

    .input:focus, .select:focus, .textarea:focus {
      border-color: var(--color-accent);
      box-shadow: 0 0 0 1px rgba(7, 158, 250, 0.4);
    }

    .input::placeholder, .textarea::placeholder {
      color: rgba(255, 255, 255, 0.4);
    }

    .textarea {
      resize: vertical;
      min-height: 72px;
    }

    .helper-text {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 2px;
    }

    .error-text {
      font-size: 12px;
      color: #ff6b6b;
      margin-top: 4px;
      display: none;
    }

    .error-visible {
      display: block;
    }

    .btn-form {
      width: 100%;
      margin-top: var(--spacing-sm);
      padding: 10px 18px;
      border-radius: var(--radius-md);
      border: none;
      background: #ffffff;
      color: #000000;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: background 0.15s ease, transform 0.1s ease;
    }

    .btn-form:hover {
      background: #f4f4f4;
      transform: translateY(-1px);
    }

    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      max-width: 320px;
      padding: 12px 16px;
      border-radius: 12px;
      background: #111111;
      color: #ffffff;
      font-size: 13px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
      opacity: 0;
      pointer-events: none;
      transform: translateY(10px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      z-index: 300;
    }

    .toast-visible {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .toast-success {
      border-left: 3px solid var(--color-accent);
    }

    .toast-error {
      border-left: 3px solid #ff6b6b;
    }

    /* FAQ / footer */
    .faq-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: var(--spacing-md);
    }

    .faq-item {
      border-radius: 16px;
      border: 1px solid #e2e2e2;
      padding: var(--spacing-md);
      background: #ffffff;
    }

    .faq-question {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--color-neutral-dark);
    }

    .faq-answer {
      font-size: 14px;
      color: var(--color-neutral-medium);
    }

    footer {
      border-top: 1px solid #e2e2e2;
      padding: var(--spacing-md) var(--spacing-md) var(--spacing-lg);
      background: var(--color-neutral-light);
    }

    .footer-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 2fr);
      gap: var(--spacing-xl);
      align-items: flex-start;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-sm);
      font-size: 13px;
      color: var(--color-neutral-medium);
      margin-bottom: var(--spacing-sm);
    }

    .social-links {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
      font-size: 13px;
    }

    .social-pill {
      padding: 4px 10px;
      border-radius: var(--radius-md);
      background: #ffffff;
      border: 1px solid #e2e2e2;
      color: var(--color-neutral-dark);
    }

    .newsletter-label {
      font-size: 13px;
      color: var(--color-neutral-dark);
      margin-bottom: 4px;
    }

    .newsletter-row {
      display: flex;
      gap: var(--spacing-xs);
    }

    .newsletter-input {
      flex: 1;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid #d5d5d5;
      font-size: 13px;
      outline: none;
    }

    .newsletter-input:focus {
      border-color: var(--color-accent);
    }

    .newsletter-btn {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      background: var(--color-primary);
      color: #ffffff;
      font-size: 13px;
      cursor: pointer;
    }

    .footer-meta {
      font-size: 12px;
      color: var(--color-neutral-medium);
      margin-top: var(--spacing-sm);
    }

    /* Guarantee banner */
    .guarantee-banner {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      padding: var(--spacing-sm) var(--spacing-md);
      background: rgba(7, 158, 250, 0.06);
      border: 1px solid rgba(7, 158, 250, 0.2);
      border-radius: 12px;
      margin-bottom: var(--spacing-md);
      font-size: 14px;
      color: var(--color-neutral-dark);
    }

    .guarantee-banner strong {
      color: var(--color-accent);
    }

    /* Map section */
    .map-section {
      padding: var(--spacing-xl) var(--spacing-md);
      background: linear-gradient(180deg, #f8fafc 0%, #f1f6fb 100%);
    }

    .map-card {
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid #e2e2e2;
      background: #ffffff;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
    }

    .map-iframe {
      width: 100%;
      height: 280px;
      border: none;
      display: block;
    }

    .map-address {
      padding: var(--spacing-md);
      font-size: 14px;
      color: var(--color-neutral-dark);
    }

    .map-address strong {
      display: block;
      margin-bottom: 4px;
      font-size: 15px;
    }

    /* Responsive + View toggle overrides */
    @media (max-width: 1100px) {
      .nav-links { gap: 10px; }
      nav { gap: 12px; }
    }
    @media (max-width: 980px) {
      .nav-links { display: none; }
      .mobile-menu-btn { display: flex; }
    }

    @media (max-width: 960px) {
      .hero-grid,
      .info-grid,
      .stats-grid,
      .cards-row,
      .testimonial-grid,
      .process-grid,
      .cta-layout,
      .faq-grid,
      .footer-inner {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero { padding-top: var(--spacing-xl); }
      nav { gap: var(--spacing-md); }
      .nav-links { display: none; }
      .mobile-menu-btn { display: flex; }
      .hero-title { font-size: 32px; }
      canvas { height: 200px; }
      .hero-kpis { grid-template-columns: 1fr; }
      .nav-secondary { flex-wrap: wrap; margin-left: 0; }
      .badge-region { font-size: 11px; padding: 4px 8px; }
    }

    /* Forced mobile view (wide screen) */
    body.view-mobile .hero-grid,
    body.view-mobile .info-grid,
    body.view-mobile .stats-grid,
    body.view-mobile .cards-row,
    body.view-mobile .testimonial-grid,
    body.view-mobile .process-grid,
    body.view-mobile .cta-layout,
    body.view-mobile .faq-grid,
    body.view-mobile .footer-inner {
      grid-template-columns: minmax(0, 1fr) !important;
    }
    body.view-mobile .nav-links { display: none !important; }
    body.view-mobile .mobile-menu-btn { display: flex !important; }
    body.view-mobile .hero-title { font-size: 28px !important; }
    body.view-mobile .hero-kpis { grid-template-columns: 1fr !important; }

    /* Forced desktop view (narrow screen) */
    body.view-desktop .nav-links { display: flex !important; }
    body.view-desktop .mobile-menu-btn { display: none !important; }
    body.view-desktop .hero-grid { grid-template-columns: minmax(0, 3fr) minmax(0, 2.7fr) !important; }
    body.view-desktop .info-grid { grid-template-columns: minmax(0, 2.4fr) minmax(0, 2.6fr) !important; }
    body.view-desktop .stats-grid { grid-template-columns: minmax(0, 1.4fr) minmax(0, 2fr) !important; }
    body.view-desktop .cards-row,
    body.view-desktop .testimonial-grid,
    body.view-desktop .faq-grid { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }
    body.view-desktop .process-grid { grid-template-columns: repeat(4, minmax(0, 1fr)) !important; }
    body.view-desktop .cta-layout { grid-template-columns: minmax(0, 1.4fr) minmax(0, 2fr) !important; }
    body.view-desktop .footer-inner { grid-template-columns: minmax(0, 2fr) minmax(0, 2fr) !important; }
    body.view-desktop .hero-kpis { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }

    @media (max-width: 640px) {
      section { padding: var(--spacing-lg) var(--spacing-sm); }
      .header-inner { padding: 0 var(--spacing-sm); }
      .hero-title { font-size: 26px; }
      .hero-card { padding: var(--spacing-md); }
      .cards-row, .testimonial-grid, .process-grid, .faq-grid { grid-template-columns: minmax(0, 1fr); }
      .form-row { grid-template-columns: minmax(0, 1fr); }
      .newsletter-row { flex-direction: column; }
      .newsletter-btn { width: 100%; text-align: center; }
      .view-toggle { display: none; }
      .map-iframe { height: 220px; }
    }

    @media (max-width: 480px) {
      .hero-title { font-size: 22px; }
      .section-title { font-size: 20px; }
      .cta-title { font-size: 22px; }
      .nav-secondary .btn { padding: 6px 12px; font-size: 13px; }
    }

    /* Scroll to top */
    .scroll-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 150;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--color-accent);
      color: #fff;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 16px rgba(7, 158, 250, 0.4);
      opacity: 0;
      visibility: hidden;
      transform: translateY(8px);
      transition: opacity 0.2s, visibility 0.2s, transform 0.2s;
    }
    .scroll-top.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    .scroll-top:hover { background: #0685d9; }
    .scroll-top svg { width: 22px; height: 22px; }

    /* Cursor ring */
    .cursor-ring {
      position: fixed;
      width: 20px;
      height: 20px;
      border: 1.5px solid rgba(7, 158, 250, 0.5);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      transition: transform 0.08s ease-out, width 0.15s, height 0.15s, border-color 0.15s;
    }
    .cursor-ring.hover { width: 36px; height: 36px; border-color: rgba(7, 158, 250, 0.25); }

    /* Auth modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 400;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s, visibility 0.2s;
    }
    .modal-overlay.open { opacity: 1; visibility: visible; }
    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.96);
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 24px 48px rgba(0,0,0,0.15);
      z-index: 401;
      max-width: 420px;
      width: calc(100% - 32px);
      max-height: 90vh;
      overflow: auto;
      transition: transform 0.2s ease;
    }
    .modal-overlay.open .modal { transform: translate(-50%, -50%) scale(1); }
    .modal-header {
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-title { font-size: 18px; font-weight: 600; margin: 0; }
    .modal-close {
      width: 36px; height: 36px;
      border: none;
      background: #f0f0f0;
      border-radius: 10px;
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
    }
    .modal-tabs {
      display: flex;
      border-bottom: 1px solid #eee;
    }
    .modal-tab {
      flex: 1;
      padding: 12px 16px;
      border: none;
      background: none;
      font-size: 14px;
      font-weight: 500;
      color: var(--color-neutral-medium);
      cursor: pointer;
    }
    .modal-tab.active { color: var(--color-accent); border-bottom: 2px solid var(--color-accent); margin-bottom: -1px; }
    .modal-body { padding: var(--spacing-lg); }
    .auth-panel { display: none; }
    .auth-panel.active { display: block; }
    .auth-panel .form-field { margin-bottom: var(--spacing-sm); }
    .auth-panel .form-label { font-size: 12px; color: #555; margin-bottom: 4px; display: block; }
    .auth-panel .input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 14px;
      background: #fff;
      color: #333;
    }
    .auth-panel .btn-submit {
      width: 100%;
      margin-top: 8px;
      padding: 12px;
      background: var(--color-accent);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
    }
    .auth-panel .btn-submit:hover { background: #0685d9; }
    .auth-inline-error { font-size: 11px; color: #c00; margin-top: 2px; display: block; min-height: 14px; }
    .auth-panel .input.invalid { border-color: #c00; }

    /* Personal account dashboard — полноэкранный кабинет */
    .account-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: 100%;
      max-width: none;
      height: 100%;
      background: linear-gradient(180deg, #f7f9fc, #eef3ff);
      box-shadow: -4px 0 24px rgba(0,0,0,0.15);
      z-index: 402;
      transform: translateX(100%);
      transition: transform 0.25s ease;
      overflow: auto;
    }
    .account-panel.open { transform: translateX(0); }
    .account-panel .btn-primary { background: #2f6df6; color: #fff; border-radius: 999px; padding: 10px 18px; font-weight: 600; }
    .account-panel-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      z-index: 401;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s, visibility 0.2s;
    }
    .account-panel-backdrop.visible { opacity: 1; visibility: visible; }
    .account-panel-header {
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .account-panel-header .modal-close { margin-left: 0; }
    .account-section {
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid #f0f0f0;
    }
    .account-section h3 { font-size: 14px; margin: 0 0 8px; color: var(--color-neutral-medium); text-transform: uppercase; letter-spacing: 0.05em; }
    .account-balance { font-size: 24px; font-weight: 700; color: var(--color-primary); }
    .account-usd { font-size: 14px; color: var(--color-neutral-medium); margin-top: 4px; }
    .btn-withdraw {
      display: inline-block;
      margin-top: 12px;
      padding: 10px 20px;
      background: var(--color-accent);
      color: #fff;
      border: none;
      border-radius: 999px;
      font-weight: 600;
      cursor: pointer;
    }
    .btn-withdraw:hover { background: #0685d9; }
    .admin-section { background: #f8fafc; }
    .admin-section .input, .admin-section .select { width: 100%; padding: 8px 10px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 8px; font-size: 13px; }
    .settings-section .form-field { margin-bottom: var(--spacing-sm); }
    .settings-section .form-label { font-size: 12px; color: #555; display: block; margin-bottom: 4px; }
    .settings-section .input, .settings-section .select { width: 100%; padding: 8px 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
    .file-upload { font-size: 13px; color: var(--color-neutral-medium); }
    .btn-logout { background: #e5e5e5; color: #333; margin-left: 8px; }
    .btn-logout:hover { background: #d0d0d0; }
    .admin-clients-list { max-height: 200px; overflow: auto; font-size: 13px; margin-bottom: 12px; }
    .admin-clients-list li { padding: 6px 0; border-bottom: 1px solid #eee; }
    .admin-clients-clickable li[data-email] { cursor: pointer; }
    .admin-clients-clickable li[data-email]:hover { background: #f0f0f0; }
    .referral-box { background: #fff; border: 1px solid #ddd; border-radius: 10px; padding: 10px; margin-top: 8px; font-size: 12px; word-break: break-all; }
    .btn-copy { padding: 6px 12px; font-size: 12px; margin-top: 6px; cursor: pointer; border-radius: 8px; border: 1px solid #079efa; background: #fff; color: #079efa; }
    .btn-copy:hover { background: rgba(7,158,250,0.08); }
    /* Team section */
    #team .section-title { margin-bottom: 0; }
    .team-image-wrap { margin-top: 20px; min-height: 160px; display: flex; justify-content: center; }
    .team-img { max-width: 88%; width: 100%; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,.08); display: block; filter: hue-rotate(168deg) saturate(0.9); }
    .team-placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; padding: 48px 24px; background: linear-gradient(180deg, #f7f9fc, #eef3ff); border-radius: 20px; border: 2px dashed #c5d0e0; color: var(--color-neutral-medium); font-size: 15px; }
    .team-placeholder-icon { font-size: 48px; opacity: .7; }
    /* Partners section */
    .partners-section { padding: var(--spacing-lg) var(--spacing-md); background: #fafbfc; border-top: 1px solid #eee; }
    .partners-inner { max-width: var(--max-width); margin: 0 auto; }
    .partners-header { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-end; gap: var(--spacing-md); margin-bottom: var(--spacing-md); }
    .partners-tag { font-size: 11px; text-transform: uppercase; letter-spacing: 0.14em; color: var(--color-neutral-medium); margin-bottom: 4px; }
    .partners-title { font-size: 26px; line-height: 1.2; font-weight: 600; color: var(--color-primary); margin: 0; }
    .partners-title .highlight { color: var(--color-accent); background: linear-gradient(transparent 60%, rgba(7,158,250,0.2) 60%); }
    .partners-more { padding: 10px 20px; border-radius: 999px; background: var(--color-primary); color: #fff; border: none; font-weight: 600; font-size: 14px; cursor: pointer; }
    .partners-more:hover { background: #111; }
    .partners-scroll-wrap { overflow: hidden; margin: 0 -24px; }
    .partners-track { display: flex; gap: 48px; align-items: center; flex-wrap: wrap; justify-content: center; width: max-content; animation: partnersScroll 40s linear infinite; }
    .partners-track img { height: 38px; object-fit: contain; opacity: .75; filter: grayscale(100%); transition: .25s; }
    .partners-track img:hover { opacity: 1; filter: none; transform: scale(1.05); }
    .partners-track .partner-item-wrap { display: inline-flex; align-items: center; flex-shrink: 0; }
    .partners-track .partner-fallback { display: inline-flex; align-items: center; justify-content: center; height: 36px; padding: 0 14px; background: #e5e8ec; color: #5c6370; font-size: 13px; font-weight: 500; border-radius: 999px; }
    @media (prefers-reduced-motion: reduce) {
      .partners-track { animation: none; }
    }
    @keyframes partnersScroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    @media (max-width: 960px) {
      .account-panel { width: 100%; max-width: none; }
    }
    .account-welcome { padding: var(--spacing-sm) var(--spacing-lg); font-size: 18px; font-weight: 600; color: var(--color-primary); border-bottom: 1px solid #f0f0f0; }
    .account-client-wrap { display: flex; min-height: calc(100vh - 56px); }
    .account-client-sidebar { width: 200px; background: #f5f5f5; border-right: 1px solid #e5e5e5; padding: var(--spacing-sm); flex-shrink: 0; }
    .account-client-sidebar button { display: block; width: 100%; text-align: left; padding: 10px 12px; border: none; background: none; cursor: pointer; font-size: 14px; color: var(--color-neutral-dark); border-radius: 8px; margin-bottom: 2px; }
    .account-client-sidebar button:hover { background: #eee; }
    .account-client-sidebar button.active { background: var(--color-accent); color: #fff; }
    .account-client-main { flex: 1; overflow: auto; padding: var(--spacing-lg); }
    .account-client-view { display: none; }
    .account-client-view.active { display: block; }
    .personal-info-section .input.empty-invalid { border-color: #c00; }
    .withdrawals-list { list-style: none; padding: 0; margin: 0; }
    .withdrawals-list li { padding: 12px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 8px; }
    #txTable { width: 100%; border-collapse: collapse; margin-top: 12px; font-size: 14px; }
    #txTable th, #txTable td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #eee; }
    #txTable th { font-weight: 600; color: var(--color-neutral-medium); }
    .dashboard-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 18px; margin: 20px 0; }
    .card { background: #fff; padding: 18px; border-radius: 14px; box-shadow: 0 12px 30px rgba(0,0,0,.05); }
    .card.small .big-balance { font-size: 14px; font-weight: normal; }
    .big-balance { font-size: 24px; font-weight: 700; margin-top: 8px; }
    .account-panel.admin-fullscreen { width: 100%; max-width: none; }
    .account-panel.admin-fullscreen .account-admin-wrap { display: flex; min-height: calc(100vh - 56px); }
    .admin-topbar { height: 48px; background: var(--color-primary); color: #fff; display: flex; align-items: center; padding: 0 var(--spacing-md); gap: var(--spacing-md); }
    .admin-topbar .admin-back { background: rgba(255,255,255,0.2); color: #fff; border: none; padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 13px; }
    .admin-topbar .admin-back:hover { background: rgba(255,255,255,0.3); }
    .admin-sidebar { width: 200px; background: #f5f5f5; border-right: 1px solid #e5e5e5; padding: var(--spacing-sm); }
    .admin-sidebar a, .admin-sidebar button { display: block; width: 100%; text-align: left; padding: 10px 12px; border: none; background: none; cursor: pointer; font-size: 14px; color: var(--color-neutral-dark); border-radius: 8px; margin-bottom: 2px; }
    .admin-sidebar a:hover, .admin-sidebar button:hover { background: #eee; }
    .admin-sidebar a.active, .admin-sidebar button.active { background: var(--color-accent); color: #fff; }
    .sidebar a.active { background: #2f6df6; color: #fff; }
    .account-client-sidebar button.active { background: #2f6df6; color: #fff; }
    .admin-content { flex: 1; overflow: auto; padding: var(--spacing-lg); }
    .admin-view { display: none; }
    .admin-view.active { display: block; }
    .admin-applications-list { list-style: none; padding: 0; margin: 0; }
    .admin-applications-list li { display: flex; flex-wrap: wrap; align-items: center; gap: 12px; padding: 12px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 8px; }
    .admin-applications-list .app-email { font-weight: 600; }
    .admin-applications-list .app-name { color: var(--color-neutral-medium); font-size: 13px; }
    .admin-applications-list .btn-approve { padding: 6px 14px; background: #0a0; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; font-weight: 600; }
    .admin-applications-list .btn-cancel-app { padding: 6px 14px; background: #c00; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; }
    .client-detail-panel { display: none; padding: var(--spacing-lg); }
    .client-detail-panel.active { display: block; }
    .client-detail-panel .form-field { margin-bottom: var(--spacing-sm); }
    .client-detail-panel .form-label { font-size: 12px; display: block; margin-bottom: 4px; color: #555; }
    .client-detail-panel .input { width: 100%; padding: 8px 10px; border: 1px solid #ddd; border-radius: 8px; }
    .profile-section { background: #fafafa; border-radius: 12px; padding: var(--spacing-md); margin-bottom: var(--spacing-md); }
    .profile-section h3 { margin: 0 0 12px; font-size: 14px; text-transform: uppercase; letter-spacing: 0.05em; color: var(--color-neutral-medium); }
    .profile-section .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .profile-section .form-field { margin-bottom: 12px; }
    .profile-section .form-label { font-size: 12px; margin-bottom: 4px; display: block; color: #555; }
    .profile-section .input, .profile-section .select { width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
    .profile-actions { margin-top: 12px; display: flex; gap: 8px; }
    .btn-edit, .btn-save-profile { padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; border: 1px solid #ddd; background: #fff; }
    .btn-save-profile { background: var(--color-accent); color: #fff; border-color: var(--color-accent); }
    .profile-section.readonly .input, .profile-section.readonly .select, .profile-section.readonly .file-upload { background: #f0f0f0; pointer-events: none; }
    .fab-wrap { position: fixed; bottom: 80px; right: 24px; z-index: 160; display: flex; flex-direction: column; gap: 10px; align-items: flex-end; }
    .fab { width: 52px; height: 52px; border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 22px; box-shadow: 0 4px 14px rgba(0,0,0,0.2); transition: transform 0.2s ease, box-shadow 0.2s ease; text-decoration: none; color: #fff; overflow: hidden; }
    .fab:hover { transform: scale(1.08); box-shadow: 0 6px 20px rgba(0,0,0,0.25); }
    .fab img { width: 28px; height: 28px; object-fit: contain; }
    .fab-wa img, .fab-tg img { mix-blend-mode: multiply; }
    .fab-wa { background: #25d366; }
    .fab-tg { background: #0088cc; }
    .fab-support { background: var(--color-accent); font-size: 18px; }
    .support-modal .modal-body .form-field { margin-bottom: var(--spacing-sm); }
    .support-modal .form-label { display: block; margin-bottom: 4px; font-size: 12px; color: #555; }
    .support-modal .input, .support-modal .textarea { width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
    .ticket-list { list-style: none; padding: 0; margin: 0; }
    .ticket-list li { padding: 12px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 8px; cursor: pointer; }
    .ticket-list li:hover { background: #f8f8f8; }
    .ticket-status { font-size: 11px; text-transform: uppercase; padding: 2px 8px; border-radius: 999px; }
    .ticket-status.open { background: #fff3cd; color: #856404; }
    .ticket-status.answered { background: #d4edda; color: #155724; }
    .ticket-status.in_progress { background: #cce5ff; color: #004085; }
    .ticket-detail-reply { background: #f0f8ff; padding: 12px; border-radius: 8px; margin-top: 12px; border-left: 3px solid var(--color-accent); }
    #withdrawModal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.45); z-index: 9999; }
    #withdrawModal.open { display: flex; }
    #withdrawModal .modal { position: relative; margin: auto; background: #fff; padding: 24px; border-radius: 12px; width: 320px; }
    #withdrawModal .modal .modal-close { position: absolute; top: 12px; right: 12px; width: 32px; height: 32px; border: none; background: #f0f0f0; border-radius: 50%; cursor: pointer; font-size: 20px; line-height: 1; color: #333; }
    #withdrawModal .modal .modal-close:hover { background: #e0e0e0; }
    #withdrawModal .modal h3 { margin: 0 0 12px; padding-right: 28px; font-size: 18px; }
    #withdrawModal .modal label { display: block; margin: 10px 0 4px; font-size: 14px; }
    #withdrawModal .modal select, #withdrawModal .modal input { width: 100%; padding: 8px 10px; margin-bottom: 8px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
    #withdrawModal .modal .btn-primary { margin-top: 12px; padding: 10px 20px; background: var(--color-accent); color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
  </style>
</head>
<body>
<div class="page">
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <div class="logo-mark" aria-hidden="true"></div>
        <span class="logo-text">Recovery With Law</span>
      </div>
      <nav aria-label="Primary">
        <div class="nav-links">
          <a href="#why">Why Us</a>
          <a href="#stats">Results</a>
          <a href="#services">Services</a>
          <a href="#process">Process</a>
          <a href="#office">Office</a>
          <a href="#faq">FAQ</a>
          <a href="#contact">Contact</a>
        </div>
        <div class="nav-secondary">
          <button type="button" class="btn btn-secondary" id="btnPersonalAccount" aria-label="Personal account">Personal Account</button>
          <button type="button" class="btn btn-secondary btn-logout" id="btnLogout" aria-label="Log out" style="display:none;">Log out</button>
          <div class="view-toggle" aria-label="View mode">
            <button type="button" class="view-toggle-btn" id="viewMobile" title="Mobile view">Mobile</button>
            <button type="button" class="view-toggle-btn" id="viewDesktop" title="Desktop view">Desktop</button>
          </div>
          <span class="badge-region">Canada & Australia Only</span>
          <a href="#contact" class="btn btn-accent">Book a call</a>
          <button type="button" class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Open menu" aria-expanded="false">
            <span></span><span></span><span></span>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <div class="mobile-menu-inner">
      <a href="#why" class="mobile-nav-link">Why Us</a>
      <a href="#stats" class="mobile-nav-link">Results</a>
      <a href="#services" class="mobile-nav-link">Services</a>
      <a href="#process" class="mobile-nav-link">Process</a>
      <a href="#office" class="mobile-nav-link">Office</a>
      <a href="#faq" class="mobile-nav-link">FAQ</a>
      <a href="#contact" class="mobile-nav-link">Contact</a>
      <button type="button" class="btn btn-secondary" id="btnPersonalAccountMobile" style="margin-top:8px;">Personal Account</button>
      <a href="#contact" class="btn btn-accent" style="margin-top:16px;">Book a call</a>
    </div>
  </div>

  <!-- Scroll to top -->
  <button type="button" class="scroll-top" id="scrollTop" aria-label="Scroll to top">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
  </button>

  <!-- Cursor ring -->
  <div class="cursor-ring" id="cursorRing" aria-hidden="true"></div>

  <!-- Auth modal: Login / Register -->
  <div class="modal-overlay" id="authModal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title" id="authModalTitle">Personal Account</h2>
        <button type="button" class="modal-close" id="authModalClose" aria-label="Close">&times;</button>
      </div>
      <div class="modal-tabs">
        <button type="button" class="modal-tab active" data-tab="login">Log in</button>
        <button type="button" class="modal-tab" data-tab="register">Register</button>
      </div>
      <div class="modal-body">
        <div id="authLogin" class="auth-panel active">
          <form id="formLogin">
            <div class="form-field">
              <label class="form-label" for="loginUsername">Username</label>
              <input type="text" id="loginUsername" class="input" placeholder="Username" required>
            </div>
            <div class="form-field">
              <label class="form-label" for="loginPassword">Password</label>
              <input type="password" id="loginPassword" class="input" placeholder="Password" required>
            </div>
            <button type="submit" class="btn-submit">Log in</button>
          </form>
        </div>
        <div id="authRegister" class="auth-panel">
          <form id="formRegister" novalidate>
            <div class="form-field">
              <label class="form-label" for="regFirstName">First Name</label>
              <input type="text" id="regFirstName" class="input" placeholder="First name" required autocomplete="given-name">
              <span class="auth-inline-error" id="regFirstNameError"></span>
            </div>
            <div class="form-field">
              <label class="form-label" for="regLastName">Last Name</label>
              <input type="text" id="regLastName" class="input" placeholder="Last name" required autocomplete="family-name">
              <span class="auth-inline-error" id="regLastNameError"></span>
            </div>
            <div class="form-field">
              <label class="form-label" for="regEmail">Email</label>
              <input type="email" id="regEmail" class="input" placeholder="Email" required autocomplete="email">
              <span class="auth-inline-error" id="regEmailError"></span>
            </div>
            <div class="form-field">
              <label class="form-label" for="regPassword">Password (min 8 characters)</label>
              <input type="password" id="regPassword" class="input" placeholder="Password" required autocomplete="new-password">
              <span class="auth-inline-error" id="regPasswordError"></span>
            </div>
            <div class="form-field">
              <label class="form-label" for="regPassword2">Confirm password</label>
              <input type="password" id="regPassword2" class="input" placeholder="Confirm password" required autocomplete="new-password">
              <span class="auth-inline-error" id="regPassword2Error"></span>
            </div>
            <button type="submit" class="btn-submit">Register</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Backdrop for account panel -->
  <div class="account-panel-backdrop" id="accountPanelBackdrop"></div>

  <!-- Personal account panel (dashboard) -->
  <div class="account-panel" id="accountPanel">
    <div class="account-panel-header">
      <h2 class="modal-title">Personal Account</h2>
      <div>
        <button type="button" class="btn btn-secondary btn-logout" id="btnLogoutPanel">Log out</button>
        <button type="button" class="modal-close" id="accountPanelClose" aria-label="Close">&times;</button>
      </div>
    </div>
    <div class="account-welcome" id="accountWelcome" style="display:none;"></div>
    <div class="account-client-content" id="accountClientContent">
      <div class="account-client-wrap">
        <div class="account-client-sidebar">
          <button type="button" class="client-nav active" data-view="clientOverview">Overview</button>
          <button type="button" class="client-nav" data-view="clientWithdrawals">Withdrawals</button>
          <button type="button" class="client-nav" data-view="clientPersonalInfo">Personal Info</button>
          <button type="button" class="client-nav" data-view="clientTickets">Tickets</button>
        </div>
        <div class="account-client-main">
          <div class="account-client-view active" id="clientOverview">
            <div class="dashboard-cards">
              <div class="card">
                <h4>Balance of your refund</h4>
                <div class="big-balance" id="refundBalance"></div>
              </div>
              <div class="card">
                <h4>Account balance</h4>
                <div class="big-balance">0.00 CAD</div>
              </div>
              <div class="card">
                <h4>Credit balance</h4>
                <div class="big-balance">0.00 CAD</div>
              </div>
              <div class="card small">
                <h4>Last login</h4>
                <div id="lastLogin"></div>
                <div id="loginIp"></div>
              </div>
            </div>
            <div class="account-section">
              <h3>Refund</h3>
              <div class="account-balance" id="accountRefundBtc">0.00000000 BTC</div>
              <div class="account-usd" id="accountRefundUsd">≈ $0.00 USD</div>
              <button type="button" class="btn-withdraw withdraw-btn" id="btnWithdraw">Withdraw funds</button>
            </div>
          </div>
          <div class="account-client-view" id="clientWithdrawals">
            <h3>Withdrawals</h3>
            <table id="txTable"></table>
          </div>
          <div class="account-client-view" id="clientPersonalInfo">
            <div class="profile-section readonly personal-info-section" id="profileSection">
              <h3>Personal Info</h3>
              <div class="form-field"><label class="form-label">First name</label><input type="text" id="settingsFirstName" class="input" placeholder="First name" readonly></div>
              <div class="form-field"><label class="form-label">Last name</label><input type="text" id="settingsLastName" class="input" placeholder="Last name" readonly></div>
              <div class="form-field"><label class="form-label">Address</label><input type="text" id="settingsAddress" class="input" placeholder="Address" readonly></div>
              <div class="form-field"><label class="form-label">Zip</label><input type="text" id="settingsZip" class="input" placeholder="Zip" readonly></div>
              <div class="form-field"><label class="form-label">Bank</label><input type="text" id="settingsBank" class="input" placeholder="Bank" readonly></div>
              <div class="form-field"><label class="form-label">ID upload</label><input type="file" id="settingsIdFile" class="input file-upload" accept="image/*,.pdf" disabled></div>
              <div class="profile-actions">
                <button type="button" class="btn-edit" id="btnProfileEdit">Edit</button>
                <button type="button" class="btn-save-profile" id="btnProfileSave" style="display:none;">Save</button>
              </div>
            </div>
          </div>
          <div class="account-client-view" id="clientTickets">
            <h3>My Tickets</h3>
            <ul class="ticket-list" id="clientTicketsList"></ul>
          </div>
        </div>
      </div>
    </div>
    <div class="account-admin-wrap" id="accountAdminWrap" style="display:none;">
      <div class="admin-topbar">
        <button type="button" class="admin-back" id="adminBackToSite">Back to site</button>
        <span>Admin Panel</span>
      </div>
      <div class="admin-sidebar">
        <button type="button" class="admin-nav active" data-view="adminDashboard">Dashboard</button>
        <button type="button" class="admin-nav" data-view="adminApplications">Applications</button>
        <button type="button" class="admin-nav" data-view="adminClients">Clients</button>
        <button type="button" class="admin-nav" data-view="adminTickets">Tickets</button>
        <button type="button" class="admin-nav" data-view="adminSettings">Settings</button>
      </div>
      <div class="admin-content">
        <div class="admin-view active" id="adminDashboard">
          <div class="account-section admin-section">
            <h3>Referral links (Facebook Ads)</h3>
            <button type="button" class="btn-copy" id="adminGenRef">Generate referral link</button>
            <div class="referral-box" id="adminRefBox" style="display:none;"></div>
            <button type="button" class="btn-copy" id="adminCopyRef" style="display:none;">Copy link</button>
          </div>
          <div class="account-section admin-section">
            <h3>Default refund (current user)</h3>
            <div class="form-field"><label class="form-label">Amount of refund (BTC)</label><input type="text" id="adminBtc" class="input" placeholder="0.00000000"></div>
            <div class="form-field"><label class="form-label">USD rate (1 BTC =)</label><input type="number" id="adminBtcRate" class="input" placeholder="97000" step="1"></div>
            <button type="button" class="btn-submit" id="adminSave">Save</button>
          </div>
        </div>
        <div class="admin-view" id="adminApplications">
          <h3>Account applications</h3>
          <p class="section-description">Approve or cancel pending registrations. Only approved users can log in.</p>
          <ul class="admin-applications-list" id="adminApplicationsList"></ul>
        </div>
        <div class="admin-view" id="adminClients">
          <h3>Registered clients</h3>
          <ul class="admin-clients-list admin-clients-clickable" id="adminClientsList"></ul>
        </div>
        <div class="admin-view" id="adminTickets">
          <h3>Tickets</h3>
          <ul class="ticket-list" id="adminTicketsList"></ul>
        </div>
        <div class="admin-view" id="adminSettings">
          <h3>Settings</h3>
          <p class="section-description">Admin settings placeholder.</p>
        </div>
        <div class="client-detail-panel" id="clientDetailPanel">
          <button type="button" class="admin-back" id="adminClientDetailBack">← Back to Clients</button>
          <h3>Client detail</h3>
          <div class="form-field"><label class="form-label">Email</label><input type="text" id="clientDetailEmail" class="input"></div>
          <div class="form-field"><label class="form-label">Registration date</label><input type="text" id="clientDetailDate" class="input" readonly></div>
          <div class="form-field"><label class="form-label">First name</label><input type="text" id="clientDetailFirstName" class="input"></div>
          <div class="form-field"><label class="form-label">Last name</label><input type="text" id="clientDetailLastName" class="input"></div>
          <div class="form-field"><label class="form-label">Address</label><input type="text" id="clientDetailAddress" class="input"></div>
          <div class="form-field"><label class="form-label">Zip</label><input type="text" id="clientDetailZip" class="input"></div>
          <div class="form-field"><label class="form-label">Bank</label><input type="text" id="clientDetailBank" class="input"></div>
          <div class="form-field"><label class="form-label">Refund BTC</label><input type="text" id="clientDetailBtc" class="input"></div>
          <div class="form-field"><label class="form-label">BTC rate</label><input type="number" id="clientDetailBtcRate" class="input"></div>
          <button type="button" class="btn-submit" id="clientDetailSave">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Support modal -->
  <div class="modal-overlay support-modal" id="supportModal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Support</h2>
        <button type="button" class="modal-close" id="supportModalClose">&times;</button>
      </div>
      <div class="modal-body">
        <form id="formSupport">
          <div class="form-field">
            <label class="form-label" for="supportEmail">Email</label>
            <input type="email" id="supportEmail" class="input" placeholder="Your email" required>
          </div>
          <div class="form-field">
            <label class="form-label" for="supportMessage">Message</label>
            <textarea id="supportMessage" class="textarea" placeholder="Describe your issue..." rows="4" required></textarea>
          </div>
          <button type="submit" class="btn-submit">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Floating action buttons -->
  <div class="fab-wrap" id="fabWrap">
    <a href="https://wa.me/1234567890" class="fab fab-wa" target="_blank" rel="noopener" aria-label="WhatsApp"><img src="assets/img/ui/WA.PNG" alt="WhatsApp"></a>
    <a href="https://t.me/your_username" class="fab fab-tg" target="_blank" rel="noopener" aria-label="Telegram"><img src="assets/img/ui/TG.PNG" alt="Telegram"></a>
    <button type="button" class="fab fab-support" id="fabSupport" aria-label="Support">?</button>
  </div>

  <main>
    <!-- HERO -->
    <section class="hero" id="top">
      <div class="section-inner hero-grid">
        <div>
          <div class="eyebrow">Crypto Investigation Without the Hassle</div>
          <h1 class="hero-title">
            Recovering Stolen Crypto Assets
            <span class="hero-highlight">Legally & Transparently</span>
            for Canada & Australia.
          </h1>
          <p class="hero-subtitle">
            Recovery With Law — a team of financial investigators guiding you from first consultation to fund recovery.
            We serve residents of Canada and Australia only, and we only take cases we're confident we can help with.
          </p>
          <div class="guarantee-banner">
            <strong>100% Free Consultation.</strong> We charge nothing upfront. Payment for our services is only due after your funds are successfully returned to your account.
          </div>
          <div class="hero-actions">
            <a href="#contact" class="btn btn-accent">Book a call</a>
            <a href="#faq" class="btn btn-outline-white">FAQ</a>
            <a href="#stats" class="btn btn-secondary">View Results</a>
          </div>
          <div class="hero-meta">
            <span><strong>10+ years</strong> of investigation experience</span>
            <span><strong>Canada · Australia</strong> — our jurisdictions</span>
          </div>
          <div class="trust-row">
            <span>Our work is built on:</span>
            <div class="trust-logos">
              <span class="trust-pill">On-chain financial analytics</span>
              <span class="trust-pill">Legal partners in Canada & Australia</span>
            </div>
          </div>
        </div>

        <aside class="hero-card" aria-label="Key metrics for last year">
          <div class="hero-card-pattern" aria-hidden="true">
            <div class="hero-pattern-grid" id="heroPatternGrid">
              <!-- BTC/CAD/AUD filled by JS for clean repeat -->
            </div>
          </div>
          <div class="hero-card-header">
            <div>
              <div class="hero-badge-row">
                <span class="hero-badge">Daily Case Monitoring</span>
              </div>
              <div class="hero-card-title">Recovery With Law Results — Last Year</div>
            </div>
            <span class="hero-chip">+27% growth in recoveries</span>
          </div>
          <div class="hero-kpis">
            <div>
              <div class="kpi-label">Total Recovered</div>
              <div class="kpi-value" id="kpi-total">$14.4M</div>
              <div class="kpi-caption">For clients across Canada & Australia</div>
            </div>
            <div>
              <div class="kpi-label">Success Rate</div>
              <div class="kpi-value">89%</div>
              <div class="kpi-caption">On confirmed scam schemes</div>
            </div>
            <div>
              <div class="kpi-label">Initial Call</div>
              <div class="kpi-value">15 min</div>
              <div class="kpi-caption">To understand if we can help</div>
            </div>
          </div>
          <p class="hero-footer-note">
            <strong>Consultation is free.</strong> If your case doesn't fit our criteria, you'll still get a clear action plan at no cost.
          </p>
        </aside>
      </div>
    </section>

    <!-- WHY US -->
    <section id="why">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">About Us</div>
            <h2 class="section-title">Why Clients Trust Recovery With Law</h2>
          </div>
          <p class="section-description">
            We take on complex cases other companies refuse. We combine crypto analytics, legal expertise,
            and transparent communication at every step.
          </p>
        </div>

        <div class="guarantee-banner" style="margin-bottom:var(--spacing-lg);">
          <strong>No upfront fees.</strong> Consultation is free. We only charge for our services after your funds are successfully returned to your account.
        </div>

        <div class="info-grid">
          <div>
            <div class="pill-row">
              <span class="pill">Focus: Canada & Australia</span>
              <span class="pill">Deep on-chain analytics</span>
              <span class="pill">Real cases only</span>
            </div>
            <ul class="bullet-list">
              <li class="bullet-item">
                <div class="bullet-icon">✓</div>
                <div>
                  <div class="bullet-content-title">Dedicated Expert From First Call to Recovery</div>
                  <div class="bullet-content-text">
                    Every client works with a dedicated specialist who explains complex steps in plain language, keeps you updated,
                    and coordinates with the legal team when needed.
                  </div>
                </div>
              </li>
              <li class="bullet-item">
                <div class="bullet-icon">✓</div>
                <div>
                  <div class="bullet-content-title">Honest Assessment & Clear Plan</div>
                  <div class="bullet-content-text">
                    In your free consultation we gather facts, trace assets on-chain, analyze counterparties, and give a realistic
                    recovery assessment. No fake 100% guarantees — only transparent stats and a step-by-step plan.
                  </div>
                </div>
              </li>
              <li class="bullet-item">
                <div class="bullet-icon">✓</div>
                <div>
                  <div class="bullet-content-title">Maximum Efficiency, Minimum Hassle</div>
                  <div class="bullet-content-text">
                    We don't waste time: we capture key data, launch the investigation, and immediately prepare a package
                    for banks, regulators, and other bodies in Canada and Australia.
                  </div>
                </div>
              </li>
            </ul>
          </div>

          <div>
            <h3 class="section-title" style="font-size:20px;margin-bottom:var(--spacing-sm);">
              Who We Serve
            </h3>
            <p class="section-description" style="margin-bottom:var(--spacing-md);">
              We work only with individuals and small businesses who are:
            </p>
            <ul class="bullet-list">
              <li class="bullet-item">
                <div class="bullet-icon">CA</div>
                <div>
                  <div class="bullet-content-title">Residents of Canada</div>
                  <div class="bullet-content-text">
                    Scam platforms, fake brokers, pseudo-investment funds, Telegram signal groups, NFT and DeFi projects
                    where you transferred crypto or fiat.
                  </div>
                </div>
              </li>
              <li class="bullet-item">
                <div class="bullet-icon">AU</div>
                <div>
                  <div class="bullet-content-title">Residents of Australia</div>
                  <div class="bullet-content-text">
                    Fraudulent exchanges, fake crypto consultants, investment pyramids, and scam bots that
                    promised quick returns and disappeared with your funds.
                  </div>
                </div>
              </li>
            </ul>
            <p class="section-description" style="margin-top:var(--spacing-md);">
              If you're not from Canada or Australia, we'll honestly say whether we can connect you with partners in your jurisdiction
              or suggest alternative paths.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- STATS & CHART -->
    <section class="stats-section" id="stats">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">Numbers & Growth</div>
            <h2 class="section-title">How Much We Recovered Last Year</h2>
          </div>
          <p class="section-description">
            Our recovery volume has steadily grown over the past 12 months. Below is the total amount of funds returned
            to clients in Canada and Australia, by month. Chart based on aggregated team statistics.
          </p>
        </div>

        <div class="stats-grid">
          <div class="stat-cards">
            <div class="stat-card">
              <div class="stat-label">Total Recovered Last Year</div>
              <div class="stat-value">$14.4M</div>
              <div class="stat-note">Successfully returned across closed cases.</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Average Case Size</div>
              <div class="stat-value">$111,000</div>
              <div class="stat-note">From individual investors to small business.</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Growth vs Previous Year</div>
              <div class="stat-value">+27%</div>
              <div class="stat-note">Improved analytics and streamlined bank & regulator procedures.</div>
            </div>
          </div>

          <div class="chart-card" aria-label="Recovery funds chart by month">
            <div class="chart-header">
              <div>
                <div class="chart-title">Recovered Funds Growth Over 12 Months</div>
                <div class="stat-note">Monthly volume keeps growing — chart always trending up.</div>
              </div>
              <span class="chart-tag">Aggregated data</span>
            </div>
            <canvas id="recoveryChart" aria-label="Recovery chart" role="img"></canvas>
            <div class="chart-legend">
              <span><span class="legend-dot" style="background:#079efa;"></span>Recovered amount (USD)</span>
              <span><span class="legend-dot" style="background:#a0aec0;"></span>Growth trend</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section id="services">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">Services</div>
            <h2 class="section-title">What We Do For You</h2>
          </div>
          <p class="section-description">
            A clear service ladder: from free case assessment to full recovery support.
            <strong>Consultation is always free.</strong> Payment for services is only after your funds are returned.
          </p>
        </div>

        <div class="cards-row">
          <article class="service-card">
            <div class="service-tag">Step 1 · For all clients</div>
            <div class="service-name">Initial 1-on-1 Consultation</div>
            <div class="service-price">FREE</div>
            <p class="service-description">
              Review of your story, transaction and counterparty checks, realistic recovery assessment
              and timeline for your jurisdiction (Canada or Australia).
            </p>
          </article>

          <article class="service-card">
            <div class="service-tag">Step 2 · Analytics</div>
            <div class="service-name">Scam Scheme Analysis Session</div>
            <div class="service-price">Paid after recovery</div>
            <p class="service-description">
              Deep on-chain analysis, wallet and withdrawal route identification, technical report
              for banks, payment systems, and regulators.
            </p>
          </article>

          <article class="service-card">
            <div class="service-tag">Step 3 · Full process</div>
            <div class="service-name">Full Recovery Process Support</div>
            <div class="service-price">Paid after recovery</div>
            <p class="service-description">
              Step-by-step action plan, templates for submissions, support for communications with banks,
              law enforcement, and regulators. We only charge once your money is back in your account.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS -->
    <section id="testimonials">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">Testimonials</div>
            <h2 class="section-title">Clients Who've Already Recovered Their Funds</h2>
          </div>
          <p class="section-description">
            Names and case details changed for privacy, but the logic and scale of the stories reflect real cases.
          </p>
        </div>

        <div class="testimonial-grid">
          <article class="testimonial-card">
            <p class="testimonial-text">
              "I lost 120,000 CAD in a pseudo-crypto fund and thought I'd never see the money again.
              Recovery With Law traced the full transaction trail in two months and helped me engage the bank and law enforcement.
              We recovered most of it. And I only paid after my funds were returned."
            </p>
            <div>
              <div class="testimonial-author">Anna, Vancouver</div>
              <div class="testimonial-role">Corporate Lawyer</div>
            </div>
          </article>

          <article class="testimonial-card">
            <p class="testimonial-text">
              "I was scammed in a Telegram 'invest-signals' chat. After the free consultation they honestly said chances were medium,
              but they laid out every step. They stayed in touch with the bank and helped me phrase requests correctly.
              Recovery took time, but the result was worth it."
            </p>
            <div>
              <div class="testimonial-author">Michael, Toronto</div>
              <div class="testimonial-role">Small Business</div>
            </div>
          </article>

          <article class="testimonial-card">
            <p class="testimonial-text">
              "I'm from Australia and sent funds to a fake exchange. Recovery With Law quickly showed where my USDT went
              and prepared a dossier I could confidently take to the bank and lawyers.
              Clear process, no empty promises. Payment only after my funds were back."
            </p>
            <div>
              <div class="testimonial-author">Luke, Sydney</div>
              <div class="testimonial-role">IT Professional</div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- PROCESS -->
    <section id="process">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">How It Works</div>
            <h2 class="section-title">Step-by-Step Recovery Plan</h2>
          </div>
          <p class="section-description">
            Our process is built around four clear stages. At each step you understand what's happening, why, and how it moves your funds closer to recovery.
          </p>
        </div>

        <div class="process-grid">
          <div class="process-step">
            <div class="process-step-number">Step 1</div>
            <div class="process-step-title">Fact-Check & Evidence Gathering</div>
            <p class="process-step-text">
              You share what happened and provide screenshots, emails, and transaction hashes.
              We verify counterparties, wallets, and key scam events. <strong>Free consultation.</strong>
            </p>
          </div>
          <div class="process-step">
            <div class="process-step-number">Step 2</div>
            <div class="process-step-title">On-Chain Investigation & Summary</div>
            <p class="process-step-text">
              We analyze the transaction chain, map fund flows, and prepare a report
              usable by banks, payment systems, and regulators.
            </p>
          </div>
          <div class="process-step">
            <div class="process-step-number">Step 3</div>
            <div class="process-step-title">Strategy for Your Jurisdiction</div>
            <p class="process-step-text">
              For Canada or Australia, we choose the best path: bank complaints,
              regulator filings, law enforcement, and other bodies.
            </p>
          </div>
          <div class="process-step">
            <div class="process-step-number">Step 4</div>
            <div class="process-step-title">Support Until Recovery</div>
            <p class="process-step-text">
              We help you communicate, respond to requests, keep deadlines on track,
              and adjust strategy as new information emerges. <strong>We charge only after your money is back.</strong>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FRAUD TYPES -->
    <section id="frauds">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">Fraud Types</div>
            <h2 class="section-title">Schemes We Handle Effectively</h2>
          </div>
          <p class="section-description">
            If your situation isn't in the list — still apply. What matters is confirmed transactions and at least a minimal digital trail.
          </p>
        </div>

        <div class="chips-row">
          <span class="chip-outline">Fake crypto brokers</span>
          <span class="chip-outline">Telegram "signal" chats</span>
          <span class="chip-outline">Pseudo-investment funds</span>
          <span class="chip-outline">Fake exchanges</span>
          <span class="chip-outline">Scam sites with "guaranteed" returns</span>
          <span class="chip-outline">NFT & DeFi pump-and-dump projects</span>
          <span class="chip-outline">Fake exchange "support"</span>
          <span class="chip-outline">Phishing sites & attachments</span>
        </div>
      </div>
    </section>

    <!-- CTA + FORM -->
    <section class="cta-section" id="contact">
      <div class="section-inner cta-layout">
        <div>
          <div class="lottie-wrap hero-card-icon" style="min-height:100px;margin-bottom:var(--spacing-sm);">
            <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M40 12L12 28v24l28 16 28-16V28L40 12z" stroke="rgba(255,255,255,0.5)" stroke-width="2" fill="rgba(255,255,255,0.06)"/>
              <path d="M40 20v40M24 28l16 12 16-12M24 52l16-12 16 12" stroke="rgba(255,255,255,0.4)" stroke-width="1.5" fill="none"/>
            </svg>
          </div>
          <div class="cta-eyebrow">Free First Step</div>
          <h2 class="cta-title">Tell us how much you lost — we'll show you how to recover the maximum possible.</h2>
          <p class="cta-text">
            Fill out the form and our expert for Canada or Australia will contact you for a <strong>free consultation</strong>.
            We'll ask a few clarifying questions, review your transactions, and honestly tell you whether it's worth starting the process.
          </p>
          <p class="cta-note" style="background:rgba(7,158,250,0.12);padding:12px;border-radius:8px;margin-bottom:12px;">
            <strong>No upfront fees.</strong> Consultation is free. Payment for our services is only due after your funds are successfully returned to your account.
          </p>
          <p class="cta-note">
            We work only with real losses and document every step. Your data is not shared with third parties without your consent.
          </p>
        </div>

        <div class="form-card" aria-label="Consultation request form">
          <form id="leadForm" novalidate>
            <div class="form-field">
              <label for="country" class="form-label">Country of Residence</label>
              <select id="country" name="country" class="select" required aria-required="true">
                <option value="">Select country</option>
                <option value="Canada">Canada</option>
                <option value="Australia">Australia</option>
                <option value="Other">Other</option>
              </select>
              <div id="countryError" class="error-text">We currently work only with clients from Canada and Australia.</div>
            </div>

            <div class="form-field">
              <label for="amountLost" class="form-label">How much did you lose?</label>
              <select id="amountLost" name="amountLost" class="select" required aria-required="true">
                <option value="">Select range</option>
                <option value="<5000">Less than $5,000</option>
                <option value="5000-10000">$5,000 – $10,000</option>
                <option value="10000-20000">$10,000 – $20,000</option>
                <option value="20000-40000">$20,000 – $40,000</option>
                <option value="40000-80000">$40,000 – $80,000</option>
                <option value="80000-100000">$80,000 – $100,000</option>
                <option value="100000-150000">$100,000 – $150,000</option>
                <option value=">150000">$150,000 and above</option>
              </select>
              <p class="helper-text">Range doesn't affect priority, but helps us tailor the strategy.</p>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label for="fullName" class="form-label">Full Name</label>
                <input id="fullName" name="fullName" class="input" type="text" placeholder="John Smith" required aria-required="true" />
              </div>
              <div class="form-field">
                <label for="phone" class="form-label">Phone Number</label>
                <input id="phone" name="phone" class="input" type="tel" placeholder="+1 ..." required aria-required="true" />
              </div>
            </div>

            <div class="form-field">
              <label for="details" class="form-label">Brief description (optional)</label>
              <textarea id="details" name="details" class="textarea" placeholder="How did you lose the funds: platform, date, currency, approximate amount."></textarea>
              <p class="helper-text">
                Please do not share passwords, seed phrases, or private keys. We never need these for analysis.
              </p>
            </div>

            <button type="submit" class="btn-form">
              Request Free Consultation
              <span aria-hidden="true">→</span>
            </button>
            <p class="helper-text">
              By submitting you agree to data processing for the purpose of assessing recovery options.
            </p>
          </form>
        </div>
      </div>
    </section>

    <!-- MAP / OFFICE -->
    <section class="map-section" id="office">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">Our Office</div>
            <h2 class="section-title">Visit Us in Vancouver</h2>
          </div>
          <p class="section-description">
            Our office is located in Vancouver, BC. We serve clients across Canada and Australia via remote consultation.
          </p>
        </div>
        <div class="map-card">
          <iframe class="map-iframe" src="https://www.openstreetmap.org/export/embed.html?bbox=-123.13%2C49.26%2C-123.10%2C49.29&layer=mapnik&marker=49.277%2C-123.115" title="Recovery With Law Office - Vancouver" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          <div class="map-address">
            <strong>Recovery With Law — Vancouver Office</strong>
            1188 West Georgia Street, Suite 1200<br>Vancouver, BC V6E 4A2, Canada
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div class="section-inner">
        <div class="section-header">
          <div>
            <div class="section-eyebrow">FAQ</div>
            <h2 class="section-title">What You Need to Know Before Starting</h2>
          </div>
          <p class="section-description">
            Answers to the questions our clients from Canada and Australia most often ask at first meetings.
          </p>
        </div>

        <div class="faq-grid">
          <article class="faq-item">
            <h3 class="faq-question">Do you guarantee you'll recover my money?</h3>
            <p class="faq-answer">
              No. No one can honestly offer a 100% guarantee in these cases. What we do guarantee: transparent analytics, an honest assessment of your chances, and use of all available legal tools in your jurisdiction. <strong>We only charge after your funds are returned.</strong>
            </p>
          </article>
          <article class="faq-item">
            <h3 class="faq-question">Why do you work only with Canada and Australia?</h3>
            <p class="faq-answer">
              We focus on jurisdictions where we deeply understand the regulatory environment, bank practices, and law enforcement. This lets us achieve the best results without spreading ourselves too thin.
            </p>
          </article>
          <article class="faq-item">
            <h3 class="faq-question">When do I pay for your services?</h3>
            <p class="faq-answer">
              <strong>Consultation is always free.</strong> Payment for our recovery services is only due after your funds are successfully returned to your account. No upfront fees for our core services.
            </p>
          </article>
        </div>
      </div>
    </section>
  </main>

  <!-- Team -->
  <section id="team">
    <div class="section-inner">
      <h2 class="section-title">Meet Our Team</h2>
      <div class="team-image-wrap" id="teamImageWrap">
        <img id="teamImg" class="team-img" alt="Team" style="display:none">
        <div id="teamPlaceholder" class="team-placeholder" style="display:none">
          <span class="team-placeholder-icon" aria-hidden="true">👥</span>
          <span>Team photo will be added</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Partners -->
  <section class="partners-section" id="partners">
    <div class="partners-inner">
      <div class="partners-header">
        <div>
          <div class="partners-tag">Partners</div>
          <h2 class="partners-title">Hear <span class="highlight">Directly</span> From Financial Experts</h2>
        </div>
        <a href="#contact" class="partners-more">More News</a>
      </div>
      <div class="partners-scroll-wrap">
        <div class="partners-track" id="partnersTrack"></div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-inner">
      <div>
        <div class="logo" style="margin-bottom:var(--spacing-sm);">
          <div class="logo-mark" aria-hidden="true"></div>
          <span>Recovery With Law</span>
        </div>
        <div class="footer-links">
          <a href="#why">About</a>
          <a href="#services">Services</a>
          <a href="#stats">Results</a>
          <a href="#faq">FAQ</a>
          <a href="#contact">Contact</a>
          <a href="#office">Office</a>
          <span>·</span>
          <span>Canada</span>
          <span>·</span>
          <span>Australia</span>
        </div>
        <div class="social-links" aria-label="Social links">
          <span class="social-pill">X (Twitter)</span>
          <span class="social-pill">Telegram</span>
        </div>
        <div class="footer-meta">
          © <span id="year"></span> Recovery With Law. All rights reserved. Not financial or investment advice.
        </div>
      </div>

      <div>
        <div class="newsletter-label">Subscribe for updates & case studies</div>
        <div class="newsletter-row">
          <input type="email" class="newsletter-input" placeholder="Your email" aria-label="Email for subscription" />
          <button class="newsletter-btn" type="button">Subscribe</button>
        </div>
        <div class="footer-meta">
          We occasionally share anonymized recovery stories and regulatory updates for Canada and Australia.
        </div>
      </div>
    </div>
  </footer>

  <!-- Toast / notification -->
  <div id="toast" class="toast"></div>
</div>

<script>
  // Hero pattern: BTC / CAD / AUD alternating circles
  (function renderHeroPattern() {
    var grid = document.getElementById('heroPatternGrid');
    if (!grid) return;
    var labels = ['BTC', 'CAD', 'AUD'];
    var tones = ['tone-1', 'tone-2', 'tone-3'];
    for (var i = 0; i < 20; i++) {
      var span = document.createElement('span');
      span.className = 'hero-pattern-c ' + tones[i % 3];
      span.textContent = labels[i % 3];
      grid.appendChild(span);
    }
  })();

  // Lively animated chart (amounts x3)
  (function drawRecoveryChart() {
    const canvas = document.getElementById('recoveryChart');
    if (!canvas || !canvas.getContext) return;
    const ctx = canvas.getContext('2d');

    const logicalWidth = 600;
    const logicalHeight = 260;
    const dpr = window.devicePixelRatio || 1;
    canvas.width = logicalWidth * dpr;
    canvas.height = logicalHeight * dpr;
    canvas.style.width = '100%';
    canvas.style.height = logicalHeight + 'px';
    ctx.scale(dpr, dpr);

    const padding = { top: 20, right: 20, bottom: 30, left: 48 };
    const data = [360, 540, 780, 1020, 1230, 1560, 1800, 2160, 2550, 2940, 3360, 4050];
    const labels = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    const maxValue = Math.max.apply(null, data) * 1.08;
    const minValue = 0;
    const chartWidth = logicalWidth - padding.left - padding.right;
    const chartHeight = logicalHeight - padding.top - padding.bottom;

    function xForIndex(i) {
      if (data.length === 1) return padding.left + chartWidth / 2;
      return padding.left + (chartWidth * i) / (data.length - 1);
    }
    function yForValue(v) {
      const ratio = (v - minValue) / (maxValue - minValue);
      return padding.top + chartHeight - ratio * chartHeight;
    }

    // Static background & grid
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, logicalWidth, logicalHeight);
    ctx.strokeStyle = '#e2e8f0';
    ctx.lineWidth = 1;
    ctx.font = '10px system-ui';
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let i = 0; i <= 4; i++) {
      const value = minValue + ((maxValue - minValue) * i) / 4;
      const y = yForValue(value);
      ctx.beginPath();
      ctx.moveTo(padding.left, y);
      ctx.lineTo(padding.left + chartWidth, y);
      ctx.stroke();
      ctx.fillText('$' + Math.round(value / 100) + 'k', padding.left - 8, y);
    }
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    labels.forEach((label, i) => {
      ctx.fillText(label, xForIndex(i), padding.top + chartHeight + 6);
    });

    // Animated draw
    let progress = 0;
    const duration = 1400;
    const startTime = performance.now();

    function animate(now) {
      const elapsed = now - startTime;
      progress = Math.min(1, elapsed / duration);
      const eased = 1 - Math.pow(1 - progress, 2.5);

      ctx.clearRect(0, 0, logicalWidth, logicalHeight);
      ctx.fillStyle = '#ffffff';
      ctx.fillRect(0, 0, logicalWidth, logicalHeight);
      ctx.strokeStyle = '#e2e8f0';
      ctx.lineWidth = 1;
      ctx.font = '10px system-ui';
      ctx.fillStyle = '#94a3b8';
      ctx.textAlign = 'right';
      ctx.textBaseline = 'middle';
      for (let i = 0; i <= 4; i++) {
        const value = minValue + ((maxValue - minValue) * i) / 4;
        const y = yForValue(value);
        ctx.beginPath();
        ctx.moveTo(padding.left, y);
        ctx.lineTo(padding.left + chartWidth, y);
        ctx.stroke();
        ctx.fillText('$' + Math.round(value / 100) + 'k', padding.left - 8, y);
      }
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      labels.forEach((label, i) => {
        ctx.fillText(label, xForIndex(i), padding.top + chartHeight + 6);
      });

      const idx = Math.floor(eased * (data.length - 1) * 1.01);
      const frac = (eased * (data.length - 1)) % 1;

      // Gradient fill under line
      const gradient = ctx.createLinearGradient(0, padding.top, 0, padding.top + chartHeight);
      gradient.addColorStop(0, 'rgba(7, 158, 250, 0.2)');
      gradient.addColorStop(1, 'rgba(7, 158, 250, 0.02)');
      ctx.beginPath();
      for (let i = 0; i <= idx; i++) {
        const x = xForIndex(i);
        const y = yForValue(data[i]);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      if (frac > 0.001 && idx + 1 < data.length) {
        const x0 = xForIndex(idx), y0 = yForValue(data[idx]);
        const x1 = xForIndex(idx + 1), y1 = yForValue(data[idx + 1]);
        ctx.lineTo(x0 + (x1 - x0) * frac, y0 + (y1 - y0) * frac);
      }
      ctx.lineTo(xForIndex(Math.min(idx, data.length - 1)) + (frac > 0 ? (xForIndex(idx + 1) - xForIndex(idx)) * frac : 0), padding.top + chartHeight);
      ctx.lineTo(padding.left, padding.top + chartHeight);
      ctx.closePath();
      ctx.fillStyle = gradient;
      ctx.fill();

      // Main line with gradient
      const lineGrad = ctx.createLinearGradient(padding.left, 0, padding.left + chartWidth, 0);
      lineGrad.addColorStop(0, '#079efa');
      lineGrad.addColorStop(1, '#00c3ff');
      ctx.beginPath();
      for (let i = 0; i <= idx; i++) {
        const x = xForIndex(i);
        const y = yForValue(data[i]);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      if (frac > 0.001 && idx + 1 < data.length) {
        const x0 = xForIndex(idx), y0 = yForValue(data[idx]);
        const x1 = xForIndex(idx + 1), y1 = yForValue(data[idx + 1]);
        ctx.lineTo(x0 + (x1 - x0) * frac, y0 + (y1 - y0) * frac);
      }
      ctx.strokeStyle = lineGrad;
      ctx.lineWidth = 2.5;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      ctx.shadowColor = 'rgba(7, 158, 250, 0.35)';
      ctx.shadowBlur = 6;
      ctx.stroke();
      ctx.shadowBlur = 0;

      // Points (only up to current)
      for (let i = 0; i <= idx; i++) {
        const x = xForIndex(i);
        const y = yForValue(data[i]);
        ctx.beginPath();
        ctx.arc(x, y, 4, 0, Math.PI * 2);
        ctx.fillStyle = '#079efa';
        ctx.fill();
        ctx.strokeStyle = 'rgba(255,255,255,0.9)';
        ctx.lineWidth = 1.5;
        ctx.stroke();
      }

      if (progress < 1) requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
  })();

  // Simple toast system
  var toastEl = document.getElementById('toast');
  if (!toastEl) {
    toastEl = document.createElement('div');
    toastEl.id = 'toast';
    toastEl.className = 'toast';
    document.body.appendChild(toastEl);
  }
  var toastTimeoutId = null;
  function showToast(message, type) {
    if (!toastEl) return;
    toastEl.textContent = message;
    toastEl.className = 'toast toast-visible ' + (type === 'error' ? 'toast-error' : 'toast-success');
    if (toastTimeoutId) window.clearTimeout(toastTimeoutId);
    toastTimeoutId = window.setTimeout(function() {
      toastEl.className = 'toast';
    }, 4000);
  }

  // Lead form handling: saving to "database" (localStorage + placeholder POST)
  (function initLeadForm() {
    const form = document.getElementById('leadForm');
    if (!form) return;
    const countrySelect = document.getElementById('country');
    const countryError = document.getElementById('countryError');

    if (countrySelect && countryError) {
      countrySelect.addEventListener('change', () => {
        if (countrySelect.value === 'Other') {
          countryError.classList.add('error-visible');
        } else {
          countryError.classList.remove('error-visible');
        }
      });
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      if (!form.reportValidity()) {
        showToast('Please fill in all required fields.', 'error');
        return;
      }

      if (countrySelect && countrySelect.value === 'Other') {
        showToast('We currently work only with clients from Canada and Australia.', 'error');
        return;
      }

      const payload = {
        country: (document.getElementById('country') || {}).value || '',
        amountLost: (document.getElementById('amountLost') || {}).value || '',
        fullName: (document.getElementById('fullName') || {}).value || '',
        phone: (document.getElementById('phone') || {}).value || '',
        details: (document.getElementById('details') || {}).value || '',
        createdAt: new Date().toISOString()
      };

      // 1) Save locally – имитация "выгрузки в базу" на фронтенде
      try {
        const key = 'recoveryWithLaw_leads';
        const existingRaw = window.localStorage.getItem(key);
        const list = existingRaw ? JSON.parse(existingRaw) : [];
        list.push(payload);
        window.localStorage.setItem(key, JSON.stringify(list));
      } catch (err) {
        console.error('LocalStorage error:', err);
      }

      // 2) Пример отправки на ваш backend / базу
      // Замените URL на ваш реальный endpoint, который пишет в базу:
      /*
      fetch('https://your-backend.example.com/api/leads', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      }).catch(console.error);
      */

      console.log('Lead submitted:', payload); // Для проверки в консоли

      form.reset();
      if (countryError) countryError.classList.remove('error-visible');
      showToast('Request submitted. We will contact you shortly.', 'success');
    });
  })();

  // Footer year
  (function setYear() {
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();
  })();

  // View toggle: Mobile / Desktop
  (function initViewToggle() {
    const viewMobile = document.getElementById('viewMobile');
    const viewDesktop = document.getElementById('viewDesktop');
    if (!viewMobile || !viewDesktop) return;
    viewMobile.addEventListener('click', () => {
      document.body.classList.remove('view-desktop');
      document.body.classList.add('view-mobile');
      viewMobile.classList.add('active');
      viewDesktop.classList.remove('active');
    });
    viewDesktop.addEventListener('click', () => {
      document.body.classList.remove('view-mobile');
      document.body.classList.add('view-desktop');
      viewDesktop.classList.add('active');
      viewMobile.classList.remove('active');
    });
  })();

  // Mobile menu (hamburger)
  (function initMobileMenu() {
    const btn = document.getElementById('mobileMenuBtn');
    const menu = document.getElementById('mobileMenu');
    const links = document.querySelectorAll('.mobile-nav-link');
    if (!btn || !menu) return;
    function open() {
      menu.classList.add('open');
      menu.setAttribute('aria-hidden', 'false');
      btn.setAttribute('aria-expanded', 'true');
      document.body.style.overflow = 'hidden';
    }
    function close() {
      menu.classList.remove('open');
      menu.setAttribute('aria-hidden', 'true');
      btn.setAttribute('aria-expanded', 'false');
      document.body.style.overflow = '';
    }
    btn.addEventListener('click', () => menu.classList.contains('open') ? close() : open());
    menu.addEventListener('click', (e) => { if (e.target === menu) close(); });
    links.forEach(l => l.addEventListener('click', close));
  })();

  // Scroll to top
  (function initScrollTop() {
    const btn = document.getElementById('scrollTop');
    if (!btn) return;
    function toggle() {
      btn.classList.toggle('visible', window.scrollY > 400);
    }
    window.addEventListener('scroll', toggle, { passive: true });
    toggle();
    btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
  })();

  // Cursor ring (minimal, desktop only)
  (function initCursorRing() {
    const ring = document.getElementById('cursorRing');
    if (!ring || 'ontouchstart' in window) { if (ring) ring.style.display = 'none'; return; }
    let x = 0, y = 0;
    document.addEventListener('mousemove', function(e) {
      x = e.clientX; y = e.clientY;
    });
    function tick() {
      ring.style.left = (x - 10) + 'px';
      ring.style.top = (y - 10) + 'px';
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
    document.querySelectorAll('a, button, [role="button"]').forEach(function(el) {
      el.addEventListener('mouseenter', () => ring.classList.add('hover'));
      el.addEventListener('mouseleave', () => ring.classList.remove('hover'));
    });
  })();

  // Auto mobile view on phone
  (function initMobileView() {
    var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 960;
    if (isMobile) {
      document.body.classList.add('view-mobile');
      document.body.classList.remove('view-desktop');
      var vm = document.getElementById('viewMobile');
      var vd = document.getElementById('viewDesktop');
      if (vm) vm.classList.add('active');
      if (vd) vd.classList.remove('active');
    }
  })();

  // Auth & Personal Account state
  var accountState = {
    loggedIn: false,
    isAdmin: false,
    currentUserEmail: null,
    currentUserName: null,
    refundBtc: parseFloat(localStorage.getItem('accountRefundBtc') || '0'),
    btcRate: parseFloat(localStorage.getItem('accountBtcRate') || '97000')
  };

  function simpleHash(s) {
    var h = 0;
    for (var i = 0; i < s.length; i++) h = ((h << 5) - h) + s.charCodeAt(i) | 0;
    return (h >>> 0).toString(36);
  }

  function updateHeaderButtons() {
    var btnLogout = document.getElementById('btnLogout');
    if (btnLogout) btnLogout.style.display = accountState.loggedIn ? 'inline-flex' : 'none';
  }

  function updateAccountDisplay() {
    var btcEl = document.getElementById('accountRefundBtc');
    var usdEl = document.getElementById('accountRefundUsd');
    if (btcEl) btcEl.textContent = accountState.refundBtc.toFixed(8) + ' BTC';
    if (usdEl) usdEl.textContent = '≈ $' + (accountState.refundBtc * accountState.btcRate).toLocaleString('en-US', { minimumFractionDigits: 2 }) + ' USD';
    var adminBtc = document.getElementById('adminBtc');
    var adminRate = document.getElementById('adminBtcRate');
    if (adminBtc) adminBtc.value = accountState.refundBtc;
    if (adminRate) adminRate.value = accountState.btcRate;
  }

  function setAccountPanelLayout() {
    var accountPanel = document.getElementById('accountPanel');
    var adminWrap = document.getElementById('accountAdminWrap');
    var clientContent = document.getElementById('accountClientContent');
    var welcomeEl = document.getElementById('accountWelcome');
    if (!accountPanel) return;
    if (accountState.isAdmin) {
      accountPanel.classList.add('admin-fullscreen');
      if (adminWrap) adminWrap.style.display = 'block';
      if (clientContent) clientContent.style.display = 'none';
      if (welcomeEl) welcomeEl.style.display = 'none';
      renderAdminClients();
      showAdminView('adminDashboard');
      var detailPanel = document.getElementById('clientDetailPanel');
      if (detailPanel) detailPanel.classList.remove('active');
    } else {
      accountPanel.classList.remove('admin-fullscreen');
      if (adminWrap) adminWrap.style.display = 'none';
      if (clientContent) clientContent.style.display = 'block';
      if (welcomeEl) {
        welcomeEl.style.display = 'block';
        welcomeEl.textContent = accountState.currentUserName ? 'Welcome, ' + accountState.currentUserName.trim() : '';
      }
      if (accountState.currentUserEmail) {
        var clientData = JSON.parse(localStorage.getItem('client_' + accountState.currentUserEmail) || '{}');
        if (clientData.refundBtc != null) accountState.refundBtc = parseFloat(clientData.refundBtc);
        if (clientData.btcRate != null) accountState.btcRate = parseFloat(clientData.btcRate);
      }
      updateAccountDisplay();
      renderClientTickets();
      renderWithdrawalsList();
      loadProfileIntoForm();
      updateBankingSummary();
      showClientView('clientOverview');
    }
  }

  var WITHDRAWALS_KEY = 'withdrawals';
  function getWithdrawals() { try { return JSON.parse(localStorage.getItem(WITHDRAWALS_KEY) || '[]'); } catch (e) { return []; } }
  function saveWithdrawals(list) { localStorage.setItem(WITHDRAWALS_KEY, JSON.stringify(list)); }

  function updateBankingSummary() {
    var refundEl = document.getElementById('refundBalance');
    var lastEl = document.getElementById('lastLogin');
    var ipEl = document.getElementById('loginIp');
    if (refundEl) refundEl.innerText = (accountState.refundBtc != null ? accountState.refundBtc : 0) + ' BTC';
    if (lastEl) lastEl.innerText = new Date().toLocaleString();
    if (ipEl) ipEl.innerText = 'IP: 192.168.0.1';
  }

  function showClientView(viewId) {
    document.querySelectorAll('.account-client-view').forEach(function(v) { v.classList.remove('active'); });
    document.querySelectorAll('.client-nav').forEach(function(n) { n.classList.remove('active'); });
    var view = document.getElementById(viewId);
    if (view) view.classList.add('active');
    var nav = document.querySelector('.client-nav[data-view="' + viewId + '"]');
    if (nav) nav.classList.add('active');
    if (viewId === 'clientOverview') updateBankingSummary();
    if (viewId === 'clientWithdrawals') renderTx();
    if (viewId === 'clientPersonalInfo') { loadProfileIntoForm(); highlightEmptyPersonalInfo(); }
    if (viewId === 'clientTickets') renderClientTickets();
  }

  function renderTx() {
    var list = JSON.parse(localStorage.getItem('withdrawals') || '[]')
      .filter(function(x) { return x.email === accountState.currentUserEmail; });
    var html = '<tr><th>Date</th><th>Crypto</th><th>Wallet</th><th>Status</th></tr>';
    list.forEach(function(tx) {
      var walletShort = (tx.wallet || '').length >= 6 ? (tx.wallet || '').slice(0, 6) + '...' : (tx.wallet || '');
      html += '<tr><td>' + (tx.date || '') + '</td><td>' + (tx.network || '') + '</td><td>' + walletShort + '</td><td>' + (tx.status || '') + '</td></tr>';
    });
    var el = document.getElementById('txTable');
    if (el) el.innerHTML = html;
  }

  function highlightEmptyPersonalInfo() {
    var section = document.getElementById('profileSection');
    if (!section) return;
    var inputs = section.querySelectorAll('.form-field .input[type="text"]');
    inputs.forEach(function(inp) {
      if (!inp.value || !inp.value.trim()) inp.classList.add('empty-invalid'); else inp.classList.remove('empty-invalid');
    });
  }

  function showAdminView(viewId) {
    document.querySelectorAll('.admin-view').forEach(function(v) { v.classList.remove('active'); });
    document.querySelectorAll('.admin-nav').forEach(function(n) { n.classList.remove('active'); });
    var view = document.getElementById(viewId);
    if (view) view.classList.add('active');
    var nav = document.querySelector('.admin-nav[data-view="' + viewId + '"]');
    if (nav) nav.classList.add('active');
    if (viewId === 'adminApplications') renderAdminApplications();
    if (viewId === 'adminClients') renderAdminClients();
    if (viewId === 'adminTickets') renderAdminTickets();
  }

  function renderAdminApplications() {
    var listEl = document.getElementById('adminApplicationsList');
    if (!listEl) return;
    var users = [];
    try { users = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]'); } catch (e) {}
    var pending = users.filter(function(u) { return (u.status || '') === 'pending'; });
    pending.sort(function(a, b) { return (b.createdAt || '').localeCompare(a.createdAt || ''); });
    listEl.innerHTML = pending.length ? pending.map(function(u, idx) {
      var name = (u.firstName || '') + ' ' + (u.lastName || '').trim() || '—';
      var date = u.createdAt ? new Date(u.createdAt).toLocaleString() : '';
      return '<li data-email="' + (u.email || '').replace(/"/g, '&quot;') + '"><span class="app-email">' + (u.email || '') + '</span><span class="app-name">' + name + ' · ' + date + '</span><button type="button" class="btn-approve" data-email="' + (u.email || '').replace(/"/g, '&quot;') + '">Approve</button><button type="button" class="btn-cancel-app" data-email="' + (u.email || '').replace(/"/g, '&quot;') + '">Cancel</button></li>';
    }).join('') : '<li>No pending applications.</li>';
    listEl.querySelectorAll('.btn-approve').forEach(function(btn) {
      btn.addEventListener('click', function() {
        var email = btn.getAttribute('data-email');
        if (!email) return;
        var list = [];
        try { list = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]'); } catch (e) {}
        var u = list.find(function(x) { return x.email === email; });
        if (u) { u.status = 'active'; localStorage.setItem('recoveryWithLaw_users', JSON.stringify(list)); }
        renderAdminApplications();
        showToast('Application approved. User can now log in.', 'success');
      });
    });
    listEl.querySelectorAll('.btn-cancel-app').forEach(function(btn) {
      btn.addEventListener('click', function() {
        var email = btn.getAttribute('data-email');
        if (!email) return;
        var list = [];
        try { list = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]'); } catch (e) {}
        var u = list.find(function(x) { return x.email === email; });
        if (u) { u.status = 'rejected'; localStorage.setItem('recoveryWithLaw_users', JSON.stringify(list)); }
        renderAdminApplications();
        showToast('Application cancelled.', 'success');
      });
    });
  }

  // Auth modal
  (function initAuth() {
    var authModal = document.getElementById('authModal');
    var accountPanel = document.getElementById('accountPanel');
    var btnOpen = document.getElementById('btnPersonalAccount');
    var btnOpenMobile = document.getElementById('btnPersonalAccountMobile');
    var authClose = document.getElementById('authModalClose');
    var accountClose = document.getElementById('accountPanelClose');
    var tabs = document.querySelectorAll('.modal-tab[data-tab]');
    var loginPanel = document.getElementById('authLogin');
    var registerPanel = document.getElementById('authRegister');
    var formLogin = document.getElementById('formLogin');
    var formRegister = document.getElementById('formRegister');
    var backdrop = document.getElementById('accountPanelBackdrop');

    function openAuth() {
      if (accountState.loggedIn) {
        accountPanel.classList.add('open');
        if (backdrop) backdrop.classList.add('visible');
        document.body.style.overflow = 'hidden';
        updateAccountDisplay();
        setAccountPanelLayout();
        return;
      }
      authModal.classList.add('open');
    }
    function closeAuth() { authModal.classList.remove('open'); }
    function closeAccount() {
      accountPanel.classList.remove('open');
      if (backdrop) backdrop.classList.remove('visible');
      document.body.style.overflow = '';
    }

    if (btnOpen) btnOpen.addEventListener('click', openAuth);
    if (btnOpenMobile) btnOpenMobile.addEventListener('click', function() { var m = document.getElementById('mobileMenu'); if (m) m.classList.remove('open'); openAuth(); });
    if (authClose) authClose.addEventListener('click', closeAuth);
    if (accountClose) accountClose.addEventListener('click', closeAccount);
    if (backdrop) backdrop.addEventListener('click', closeAccount);
    authModal.addEventListener('click', function(e) { if (e.target === authModal) closeAuth(); });

    function logout() {
      accountState.loggedIn = false;
      accountState.isAdmin = false;
      accountState.currentUserEmail = null;
      accountState.currentUserName = null;
      closeAccount();
      updateHeaderButtons();
      showToast('You are logged out.', 'success');
    }
    var btnLogout = document.getElementById('btnLogout');
    var btnLogoutPanel = document.getElementById('btnLogoutPanel');
    if (btnLogout) btnLogout.addEventListener('click', logout);
    if (btnLogoutPanel) btnLogoutPanel.addEventListener('click', logout);

    tabs.forEach(function(t) {
      t.addEventListener('click', function() {
        var tab = t.getAttribute('data-tab');
        tabs.forEach(function(x) { x.classList.remove('active'); });
        t.classList.add('active');
        loginPanel.classList.toggle('active', tab === 'login');
        registerPanel.classList.toggle('active', tab === 'register');
        document.querySelectorAll('.auth-inline-error').forEach(function(el) { el.textContent = ''; });
        document.querySelectorAll('.auth-panel .input.invalid').forEach(function(el) { el.classList.remove('invalid'); });
      });
    });

    if (formLogin) formLogin.addEventListener('submit', function(e) {
      e.preventDefault();
      var userEl = document.getElementById('loginUsername');
      var passEl = document.getElementById('loginPassword');
      var user = (userEl && userEl.value) || '';
      var pass = (passEl && passEl.value) || '';
      var isAdmin = (user === 'admin' && pass === 'admin');
      if (!isAdmin) {
        var users = [];
        try { users = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]'); } catch (err) {}
        var u = users.find(function(x) { return x.email === user; });
        if (!u) { showToast('User not found.', 'error'); return; }
        if (u.passwordHash && u.passwordHash !== simpleHash(pass)) { showToast('Invalid password.', 'error'); return; }
        if ((u.status || 'active') === 'pending') { showToast('Your account is under review. We will send you an email when it\'s ready.', 'error'); return; }
        if (u.status === 'rejected') { showToast('Your application was not approved.', 'error'); return; }
        accountState.currentUserEmail = u.email;
        accountState.currentUserName = (u.firstName || '') + ' ' + (u.lastName || '');
      } else {
        accountState.currentUserEmail = null;
        accountState.currentUserName = 'Admin';
      }
      accountState.isAdmin = isAdmin;
      accountState.loggedIn = true;
      if (userEl) userEl.value = '';
      if (passEl) passEl.value = '';
      closeAuth();
      accountPanel.classList.add('open');
      if (backdrop) backdrop.classList.add('visible');
      document.body.style.overflow = 'hidden';
      updateAccountDisplay();
      updateHeaderButtons();
      setAccountPanelLayout();
      showToast('You are logged in.', 'success');
    });

    var emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    function setError(id, msg) {
      var el = document.getElementById(id);
      if (el) { el.textContent = msg || ''; }
    }
    function setInvalid(id, invalid) {
      var el = document.getElementById(id);
      if (el) el.classList.toggle('invalid', !!invalid);
    }
    if (formRegister) formRegister.addEventListener('submit', function(e) {
      e.preventDefault();
      var firstName = (document.getElementById('regFirstName') || {}).value || '';
      var lastName = (document.getElementById('regLastName') || {}).value || '';
      var email = (document.getElementById('regEmail') || {}).value || '';
      var p1 = (document.getElementById('regPassword') || {}).value || '';
      var p2 = (document.getElementById('regPassword2') || {}).value || '';
      document.querySelectorAll('.auth-inline-error').forEach(function(el) { el.textContent = ''; });
      document.querySelectorAll('.auth-panel .input.invalid').forEach(function(el) { el.classList.remove('invalid'); });
      var valid = true;
      if (!firstName.trim()) { setError('regFirstNameError', 'First name is required'); setInvalid('regFirstName', true); valid = false; }
      if (!lastName.trim()) { setError('regLastNameError', 'Last name is required'); setInvalid('regLastName', true); valid = false; }
      if (!email.trim()) { setError('regEmailError', 'Email is required'); setInvalid('regEmail', true); valid = false; }
      else if (!emailRe.test(email)) { setError('regEmailError', 'Enter a valid email address'); setInvalid('regEmail', true); valid = false; }
      if (p1.length < 8) { setError('regPasswordError', 'Password must be at least 8 characters'); setInvalid('regPassword', true); valid = false; }
      if (p1 !== p2) { setError('regPassword2Error', 'Passwords do not match'); setInvalid('regPassword2', true); valid = false; }
      if (!valid) { showToast('Please fix the errors below.', 'error'); return; }
      var key = 'recoveryWithLaw_users';
      var list = [];
      try { list = JSON.parse(localStorage.getItem(key) || '[]'); } catch (err) {}
      if (list.some(function(u) { return (u.email || '').toLowerCase() === email.toLowerCase(); })) {
        setError('regEmailError', 'This email is already registered.');
        setInvalid('regEmail', true);
        showToast('This email is already registered.', 'error');
        return;
      }
      var passwordHash = simpleHash(p1);
      list.push({ email: email, firstName: firstName, lastName: lastName, passwordHash: passwordHash, createdAt: new Date().toISOString(), status: 'pending' });
      localStorage.setItem(key, JSON.stringify(list));
      document.getElementById('regFirstName').value = '';
      document.getElementById('regLastName').value = '';
      document.getElementById('regEmail').value = '';
      document.getElementById('regPassword').value = '';
      document.getElementById('regPassword2').value = '';
      closeAuth();
      showToast('Application submitted. Your account is under review. We will send you an email when it\'s ready.', 'success');
    });
  })();

  function loadProfileIntoForm() {
    var email = accountState.currentUserEmail;
    var profile = {};
    var user = null;
    try { profile = JSON.parse(localStorage.getItem('profile_' + email) || '{}'); } catch (e) {}
    if (email) {
      var users = [];
      try { users = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]'); } catch (e) {}
      user = users.find(function(u) { return u.email === email; });
    }
    var fnEl = document.getElementById('settingsFirstName');
    var lnEl = document.getElementById('settingsLastName');
    var addrEl = document.getElementById('settingsAddress');
    var zipEl = document.getElementById('settingsZip');
    var bankEl = document.getElementById('settingsBank');
    if (fnEl) fnEl.value = profile.firstName != null ? profile.firstName : (user && user.firstName) || '';
    if (lnEl) lnEl.value = profile.lastName != null ? profile.lastName : (user && user.lastName) || '';
    if (addrEl) addrEl.value = profile.address || '';
    if (zipEl) zipEl.value = profile.zip || '';
    if (bankEl) bankEl.value = profile.bank || '';
  }

  (function initProfileEdit() {
    var section = document.getElementById('profileSection');
    var btnEdit = document.getElementById('btnProfileEdit');
    var btnSave = document.getElementById('btnProfileSave');
    var idFile = document.getElementById('settingsIdFile');
    if (!section || !btnEdit) return;
    btnEdit.addEventListener('click', function() {
      section.classList.remove('readonly');
      if (idFile) idFile.disabled = false;
      btnEdit.style.display = 'none';
      btnSave.style.display = 'inline-block';
    });
    btnSave.addEventListener('click', function() {
      var email = accountState.currentUserEmail;
      if (!email) return;
      var firstName = (document.getElementById('settingsFirstName') || {}).value || '';
      var lastName = (document.getElementById('settingsLastName') || {}).value || '';
      var address = (document.getElementById('settingsAddress') || {}).value || '';
      var zip = (document.getElementById('settingsZip') || {}).value || '';
      var bank = (document.getElementById('settingsBank') || {}).value || '';
      var profile = { firstName: firstName, lastName: lastName, address: address, zip: zip, bank: bank };
      localStorage.setItem('profile_' + email, JSON.stringify(profile));
      section.querySelectorAll('.input').forEach(function(inp) { inp.classList.remove('empty-invalid'); });
      section.classList.add('readonly');
      if (idFile) idFile.disabled = true;
      btnEdit.style.display = 'inline-block';
      btnSave.style.display = 'none';
      showToast('Profile saved.', 'success');
    });
  })();

  (function initClientNav() {
    document.querySelectorAll('.client-nav').forEach(function(btn) {
      btn.addEventListener('click', function() {
        var viewId = btn.getAttribute('data-view');
        if (viewId) showClientView(viewId);
      });
    });
  })();

  function initWithdraw() {
    var btn = document.getElementById('btnWithdraw');
    var modal = document.getElementById('withdrawModal');
    function closeWithdraw() {
      if (modal) {
        modal.classList.remove('open');
        document.body.style.overflow = '';
      }
    }
    if (btn && modal) {
      btn.addEventListener('click', function() {
        console.log('Withdraw clicked');
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
      });
    }
    if (modal) {
      modal.addEventListener('click', function(e) {
        if (e.target === modal) closeWithdraw();
      });
    }
    var closeBtn = document.getElementById('withdrawModalClose');
    if (closeBtn) closeBtn.addEventListener('click', closeWithdraw);
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && modal && modal.classList.contains('open')) closeWithdraw();
    });
    var form = document.querySelector('#withdrawModal form');
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        var crypto = form.querySelector('select').value;
        var addr = (form.querySelector('input').value || '').trim();
        if (!crypto || addr.length < 10) {
          alert('Enter wallet address');
          return;
        }
        var tx = {
          id: 'w' + Date.now(),
          email: accountState.currentUserEmail || '',
          network: crypto,
          wallet: addr,
          amount: accountState.refundBtc != null ? accountState.refundBtc : 0,
          status: 'In progress',
          date: new Date().toISOString()
        };
        var list = JSON.parse(localStorage.getItem('withdrawals') || '[]');
        list.push(tx);
        localStorage.setItem('withdrawals', JSON.stringify(list));
        modal.classList.remove('open');
        document.body.style.overflow = '';
        showToast('Withdrawal request sent successfully');
        if (typeof renderTx === 'function') renderTx();
      });
    }
  }
  document.addEventListener('DOMContentLoaded', function() {
    initWithdraw();
  });

  (function initAdminNav() {
    document.querySelectorAll('.admin-nav').forEach(function(btn) {
      btn.addEventListener('click', function() {
        var viewId = btn.getAttribute('data-view');
        if (viewId) showAdminView(viewId);
      });
    });
    var backToSite = document.getElementById('adminBackToSite');
    if (backToSite) backToSite.addEventListener('click', function() {
      document.getElementById('accountPanel').classList.remove('open');
      var b = document.getElementById('accountPanelBackdrop');
      if (b) b.classList.remove('visible');
      document.body.style.overflow = '';
    });
    var clientDetailBack = document.getElementById('adminClientDetailBack');
    if (clientDetailBack) clientDetailBack.addEventListener('click', function() {
      var panel = document.getElementById('clientDetailPanel');
      if (panel) panel.classList.remove('active');
      showAdminView('adminClients');
    });
  })();

  var selectedClientId = null;
  function renderAdminClients() {
    var listEl = document.getElementById('adminClientsList');
    if (!listEl) return;
    var items = [];
    try {
      var users = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]');
      users.forEach(function(u, i) {
        var status = u.status || 'active';
        if (status !== 'active') return;
        items.push({ id: 'u' + i, type: 'user', email: u.email, name: (u.firstName || '') + ' ' + (u.lastName || ''), createdAt: u.createdAt });
      });
    } catch (e) {}
    items.sort(function(a, b) { return (b.createdAt || '').localeCompare(a.createdAt || ''); });
    listEl.innerHTML = items.length ? items.map(function(i) {
      return '<li data-id="' + i.id + '" data-email="' + (i.email || '') + '" data-date="' + (i.createdAt || '') + '" data-type="' + i.type + '">' + (i.name || i.email) + ' — ' + (i.email || '') + '</li>';
    }).join('') : '<li>No clients yet</li>';
    listEl.querySelectorAll('li[data-email]').forEach(function(li) {
      li.addEventListener('click', function() {
        var email = li.getAttribute('data-email') || '';
        selectedClientId = li.getAttribute('data-id');
        var date = li.getAttribute('data-date');
        document.getElementById('clientDetailEmail').value = email;
        document.getElementById('clientDetailDate').value = date ? new Date(date).toLocaleString() : '';
        var profile = {};
        var clientData = {};
        try { profile = JSON.parse(localStorage.getItem('profile_' + email) || '{}'); } catch (e) {}
        try { clientData = JSON.parse(localStorage.getItem('client_' + email) || '{}'); } catch (e) {}
        var users = [];
        try { users = JSON.parse(localStorage.getItem('recoveryWithLaw_users') || '[]'); } catch (e) {}
        var u = email ? users.find(function(x) { return x.email === email; }) : null;
        document.getElementById('clientDetailFirstName').value = profile.firstName != null ? profile.firstName : (u && u.firstName) || '';
        document.getElementById('clientDetailLastName').value = profile.lastName != null ? profile.lastName : (u && u.lastName) || '';
        document.getElementById('clientDetailAddress').value = profile.address || '';
        document.getElementById('clientDetailZip').value = profile.zip || '';
        document.getElementById('clientDetailBank').value = profile.bank || '';
        document.getElementById('clientDetailBtc').value = clientData.refundBtc != null ? clientData.refundBtc : accountState.refundBtc;
        document.getElementById('clientDetailBtcRate').value = clientData.btcRate != null ? clientData.btcRate : accountState.btcRate;
        document.querySelectorAll('.admin-view').forEach(function(v) { v.classList.remove('active'); });
        document.getElementById('clientDetailPanel').classList.add('active');
      });
    });
  }

  var clientDetailSave = document.getElementById('clientDetailSave');
  if (clientDetailSave) clientDetailSave.addEventListener('click', function() {
    var email = document.getElementById('clientDetailEmail').value;
    if (!email) return;
    var profile = {
      firstName: (document.getElementById('clientDetailFirstName') || {}).value || '',
      lastName: (document.getElementById('clientDetailLastName') || {}).value || '',
      address: (document.getElementById('clientDetailAddress') || {}).value || '',
      zip: (document.getElementById('clientDetailZip') || {}).value || '',
      bank: (document.getElementById('clientDetailBank') || {}).value || ''
    };
    var clientData = {
      refundBtc: parseFloat(document.getElementById('clientDetailBtc').value) || 0,
      btcRate: parseFloat(document.getElementById('clientDetailBtcRate').value) || 97000
    };
    localStorage.setItem('profile_' + email, JSON.stringify(profile));
    localStorage.setItem('client_' + email, JSON.stringify(clientData));
    showToast('Client saved.', 'success');
  });

  var TICKETS_KEY = 'recoveryWithLaw_tickets';
  function getTickets() { try { return JSON.parse(localStorage.getItem(TICKETS_KEY) || '[]'); } catch (e) { return []; } }
  function saveTickets(t) { localStorage.setItem(TICKETS_KEY, JSON.stringify(t)); }

  function renderAdminTickets() {
    var listEl = document.getElementById('adminTicketsList');
    if (!listEl) return;
    var tickets = getTickets();
    listEl.innerHTML = tickets.map(function(t, i) {
      var status = t.reply ? 'answered' : 'open';
      return '<li data-idx="' + i + '"><strong>' + (t.email || '') + '</strong> — ' + (t.createdAt ? new Date(t.createdAt).toLocaleString() : '') + ' <span class="ticket-status ' + status + '">' + (t.reply ? 'Answered' : 'Open') + '</span></li>';
    }).join('') || '<li>No tickets</li>';
    listEl.querySelectorAll('li[data-idx]').forEach(function(li) {
      li.addEventListener('click', function() {
        var idx = parseInt(li.getAttribute('data-idx'), 10);
        var tickets = getTickets();
        var t = tickets[idx];
        if (!t) return;
        var msg = prompt('Reply to ticket:', t.reply || '');
        if (msg === null) return;
        tickets[idx].reply = msg;
        tickets[idx].repliedAt = new Date().toISOString();
        saveTickets(tickets);
        renderAdminTickets();
        showToast('Reply saved.', 'success');
      });
    });
  }

  function renderClientTickets() {
    var listEl = document.getElementById('clientTicketsList');
    if (!listEl || !accountState.currentUserEmail) return;
    var tickets = getTickets().filter(function(t) { return t.email === accountState.currentUserEmail; });
    listEl.innerHTML = tickets.map(function(t) {
      var status = t.reply ? 'Answered' : 'Open';
      var replyBlock = t.reply ? '<div class="ticket-detail-reply"><strong>Reply:</strong> ' + t.reply + '</div>' : '';
      return '<li><strong>' + (t.createdAt ? new Date(t.createdAt).toLocaleString() : '') + '</strong> — ' + status + replyBlock + '</li>';
    }).join('') || '<li>No tickets yet.</li>';
  }

  (function initSupport() {
    var supportModal = document.getElementById('supportModal');
    var fabSupport = document.getElementById('fabSupport');
    var supportClose = document.getElementById('supportModalClose');
    var formSupport = document.getElementById('formSupport');
    fabSupport.addEventListener('click', function() {
      if (!accountState.loggedIn) {
        document.getElementById('authModal').classList.add('open');
        showToast('Please log in to create a support ticket.', 'error');
        return;
      }
      supportModal.classList.add('open');
      document.getElementById('supportEmail').value = accountState.currentUserEmail || '';
    });
    supportClose.addEventListener('click', function() { supportModal.classList.remove('open'); });
    supportModal.addEventListener('click', function(e) { if (e.target === supportModal) supportModal.classList.remove('open'); });
    formSupport.addEventListener('submit', function(e) {
      e.preventDefault();
      var email = document.getElementById('supportEmail').value;
      var message = document.getElementById('supportMessage').value;
      var tickets = getTickets();
      tickets.push({ id: 't' + Date.now(), email: email, message: message, createdAt: new Date().toISOString(), status: 'open' });
      saveTickets(tickets);
      formSupport.reset();
      supportModal.classList.remove('open');
      if (accountState.isAdmin) renderAdminTickets(); else renderClientTickets();
      showToast('Ticket submitted.', 'success');
    });
  })();

  // Admin: referral links
  (function initReferral() {
    var genBtn = document.getElementById('adminGenRef');
    var box = document.getElementById('adminRefBox');
    var copyBtn = document.getElementById('adminCopyRef');
    if (!genBtn || !box) return;
    genBtn.addEventListener('click', function() {
      var base = window.location.origin + (window.location.pathname || '/');
      var ref = 'ref' + Math.random().toString(36).slice(2, 10);
      var link = base + (base.indexOf('?') >= 0 ? '&' : '?') + 'ref=' + ref;
      box.textContent = link;
      box.style.display = 'block';
      box.dataset.link = link;
      if (copyBtn) copyBtn.style.display = 'inline-block';
    });
    if (copyBtn) copyBtn.addEventListener('click', function() {
      var link = box.dataset.link || box.textContent;
      if (link && navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(link);
        showToast('Link copied to clipboard.', 'success');
      }
    });
  })();

  // Admin save & Withdraw & Settings
  (function initAccountPanel() {
    var adminSave = document.getElementById('adminSave');
    var adminBtc = document.getElementById('adminBtc');
    var adminBtcRate = document.getElementById('adminBtcRate');
    var btnWithdraw = document.getElementById('btnWithdraw');
    var formSettings = document.getElementById('formSettings');

    if (adminSave) adminSave.addEventListener('click', function() {
      var btc = parseFloat(adminBtc.value) || 0;
      var rate = parseFloat(adminBtcRate.value) || 97000;
      accountState.refundBtc = btc;
      accountState.btcRate = rate;
      localStorage.setItem('accountRefundBtc', btc);
      localStorage.setItem('accountBtcRate', rate);
      updateAccountDisplay();
      showToast('Client data saved.', 'success');
    });

    if (formSettings) formSettings.addEventListener('submit', function(e) {
      e.preventDefault();
      var firstName = (document.getElementById('settingsFirstName') || {}).value || '';
      var lastName = (document.getElementById('settingsLastName') || {}).value || '';
      var addr = (document.getElementById('settingsAddress') || {}).value || '';
      var zip = (document.getElementById('settingsZip') || {}).value || '';
      var bank = (document.getElementById('settingsBank') || {}).value || '';
      var email = accountState.currentUserEmail;
      if (email) {
        var profile = { firstName: firstName, lastName: lastName, address: addr, zip: zip, bank: bank };
        localStorage.setItem('profile_' + email, JSON.stringify(profile));
      }
      showToast('Settings saved.', 'success');
    });
  })();

  // Partners: render from array, fallback badge on image error
  var partners = [
    { src: 'assets/img/partners/p11.png', alt: 'Partner 1' },
    { src: 'assets/img/partners/p22.png', alt: 'Partner 2' },
    { src: 'assets/img/partners/p33.png', alt: 'Partner 3' },
    { src: 'assets/img/partners/p44.png', alt: 'Partner 4' }
  ];
  function renderPartnersTrack() {
    var track = document.getElementById('partnersTrack');
    if (!track) return;
    var reducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    var html = '';
    partners.forEach(function(p) {
      var alt = (p.alt || 'Partner').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      html += '<span class="partner-item-wrap"><img src="' + (p.src || '').replace(/"/g, '&quot;') + '" alt="' + alt + '" data-alt="' + alt + '"><span class="partner-fallback" style="display:none"></span></span>';
    });
    track.innerHTML = reducedMotion ? html : html + html;
    track.querySelectorAll('.partner-item-wrap').forEach(function(wrap) {
      var img = wrap.querySelector('img');
      var fallback = wrap.querySelector('.partner-fallback');
      if (!img || !fallback) return;
      fallback.textContent = img.getAttribute('data-alt') || img.alt || 'Partner';
      img.onerror = function() {
        img.style.display = 'none';
        fallback.style.display = 'inline-flex';
      };
      img.onload = function() {
        img.style.display = '';
        fallback.style.display = 'none';
      };
    });
  }

  // Team: try image URLs in order, show placeholder if none load
  var teamImageUrls = ['assets/img/team/team.png', 'assets/img/team/Team1.png', 'assets/img/team/team1.png', 'assets/img/team/team.jpg', 'assets/img/team/Team1.jpg'];
  function initTeamImage() {
    var img = document.getElementById('teamImg');
    var placeholder = document.getElementById('teamPlaceholder');
    if (!img || !placeholder) return;
    var idx = 0;
    function tryNext() {
      if (idx >= teamImageUrls.length) {
        img.style.display = 'none';
        placeholder.style.display = 'flex';
        return;
      }
      img.src = teamImageUrls[idx];
      idx += 1;
    }
    img.onerror = tryNext;
    img.onload = function() {
      img.style.display = 'block';
      placeholder.style.display = 'none';
    };
    tryNext();
  }

  (function initTeamAndPartners() {
    renderPartnersTrack();
    initTeamImage();
  })();

  updateHeaderButtons();
</script>
  <!-- Withdraw modal (в конце body, поверх всего) -->
  <div id="withdrawModal">
    <div class="modal">
      <button type="button" class="modal-close" id="withdrawModalClose" aria-label="Close">&times;</button>
      <h3>Withdraw funds</h3>
      <form id="withdrawForm">
        <label>Choose crypto</label>
        <select id="withdrawNetwork">
          <option value="">Select</option>
          <option value="BTC">BTC</option>
          <option value="ETH">ETH</option>
          <option value="USDT">USDT</option>
        </select>
        <label>Wallet address</label>
        <input id="withdrawWallet" placeholder="Enter your wallet address">
        <button type="submit" class="btn-primary">Send</button>
      </form>
    </div>
  </div>
</body>
</html>